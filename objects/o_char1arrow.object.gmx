<!--This Document is generated by GameMaker, if you edit it by hand then you do so at your own risk!-->
<object>
  <spriteName>s_char1arrow</spriteName>
  <solid>0</solid>
  <visible>-1</visible>
  <depth>-10</depth>
  <persistent>0</persistent>
  <parentName>&lt;undefined&gt;</parentName>
  <maskName>&lt;undefined&gt;</maskName>
  <events>
    <event eventtype="0" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>emit = audio_emitter_create();
audio_emitter_position(emit,0,0,100);
audio_emitter_gain(emit,(global.master/100)*(global.effect/100));

global.s_music = audio_emitter_create()
audio_emitter_gain(global.s_music,(global.master/100)*(global.music/100));
global.menumusic = audio_play_sound_on(global.s_music,f_preparation,true,10);

mode = 'pause';
alarm[0] = 100;
global.p1char = 'loz';
global.p1aura = c_white;

set = 'custom';

global.p1input = 'pad'

global.p1skill_a = 'none'
global.p1skill_b = 'none'
global.p1skill_c = 'none'
global.p1skill_d = 'none'
global.p1skill_e = 'none'
global.p1skill_f = 'none'

global.arena = "Random";
global.theme = "shuffle";
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="2" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>if (mode = 'pause')
{
    mode = 'charselect';
}

if (mode = 'standby')
{
    mode = 'stageselect';
}
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="3" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>///character select
if (mode = 'charselect')
{
    if (global.p1char = 'loz')
    {
    x = o_lozicon.x - 10
    y = o_lozicon.y + 50
    }
    if (global.p1char = 'shyo')
    {
    x = o_shyoicon.x - 10
    y = o_shyoicon.y + 50
    }

    if (keyboard_check_pressed(global.p1_move_left))
    or (gamepad_button_check_pressed(0,global.p1p_move_left))
    {
        if (global.p1char = 'loz')
        {
            exit
        }
        if (global.p1char = 'shyo')
        {
            global.p1char = 'loz'
            d = audio_play_sound_on(emit,f_select,false,10);
        }
    }
    if (keyboard_check_pressed(global.p1_move_right))
    or (gamepad_button_check_pressed(0,global.p1p_move_right))
    {
        if (global.p1char = 'loz')
        {
            global.p1char = 'shyo'
            d = audio_play_sound_on(emit,f_select,false,10);
        }
        if (global.p1char = 'shyo')
        {
            exit
        }
    }
    if (keyboard_check_pressed(global.p1_tech_a))
    or (gamepad_button_check_pressed(0,global.p1p_tech_a))
    {
        d = audio_play_sound_on(emit,f_confirm,false,10);
        with (o_char1show)
        {
            image_speed = 0.5;
            image_index = 0;
            alarm[1] = 30;
            if (global.p1char = 'loz')
            {
                sprite_index = choose(s_lozfire,s_lozmelee1,s_lozmelee2,s_lozmelee3);
            }
            if (global.p1char = 'shyo')
            {
                sprite_index = choose(s_shyofire,s_shyomelee1,s_shyomelee2,s_shyomelee3);
            }
        }
        mode = 'ready1';
    }
}

/////////////////////////////////////////////

else if (mode = 'ready1')
or (mode = 'standby1')
{
    x = o_selectready.x - 10
    y = o_selectready.y + 20
    if (o_char2arrow.mode = 'ready1')
    {
        with (o_tabchroma)
        {
            mode = "next";
            alarm[1] = 60;
        }
        mode = 'standby1';
        o_char2arrow.mode = 'standby1';
    }
    if (keyboard_check_pressed(global.p1_tech_b))
    or (gamepad_button_check_pressed(0,global.p1p_tech_b))
    {
        d = audio_play_sound_on(emit,f_select,false,10);
        mode = 'charselect';
        if not (o_char2arrow.mode = 'charselect')
        {
            o_char2arrow.mode = 'ready1';
        }
        o_tabchroma.mode = "set";
    }
}

/////////////////////////////////////////////

else if (mode = 'paletteselect')
{
    if (keyboard_check_pressed(global.p1_tech_b))
    or (gamepad_button_check_pressed(0,global.p1p_tech_b))
    {
        d = audio_play_sound_on(emit,f_select,false,10);
        mode = 'charselect';
        o_char2arrow.mode = 'ready1';
        o_tabchroma.mode = "set";
    }
    
    if (global.p1_pal = 0)
    {
        x = o_pal1.x - 10;
        y = o_pal1.y + 30;
    }
    if (global.p1_pal = 1)
    {
        x = o_pal2.x - 10;
        y = o_pal2.y + 30;
    }
    if (global.p1_pal = 2)
    {
        x = o_pal3.x - 10;
        y = o_pal3.y + 30;
    }
    if (global.p1_pal = 3)
    {
        x = o_pal4.x - 10;
        y = o_pal4.y + 30;
    }
    if (global.p1_pal = 4)
    {
        x = o_pal5.x - 10;
        y = o_pal5.y + 30;
    }
    if (global.p1_pal = 5)
    {
        x = o_pal6.x - 10;
        y = o_pal6.y + 30;
    }
    if (global.p1_pal = 6)
    {
        x = o_pal7.x - 10;
        y = o_pal7.y + 30;
    }
    
    if (keyboard_check_pressed(global.p1_move_left))
    or (gamepad_button_check_pressed(0,global.p1p_move_left))
    {
        global.p1_pal--;
        d = audio_play_sound_on(emit,f_select,false,10);
    }
    if (keyboard_check_pressed(global.p1_move_right))
    or (gamepad_button_check_pressed(0,global.p1p_move_right))
    {
        global.p1_pal++;
        d = audio_play_sound_on(emit,f_select,false,10);
    }
    
    if (keyboard_check_pressed(global.p1_tech_a))
    or (gamepad_button_check_pressed(0,global.p1p_tech_a))
    {
        d = audio_play_sound_on(emit,f_confirm,false,10);
        mode = 'auraselect';
    }
}

/////////////////////////////////////////////

else if (mode = 'auraselect')
{
    if (keyboard_check_pressed(global.p1_tech_b))
    or (gamepad_button_check_pressed(0,global.p1p_tech_b))
    {
        d = audio_play_sound_on(emit,f_select,false,10);
        mode = 'paletteselect';
    }
    
    if (global.p1aura = c_white)
    {
    x = o_colorwhite.x - 10
    y = o_colorwhite.y + 30
    }
    if (global.p1aura = c_fuchsia)
    {
    x = o_colorviolet.x - 10
    y = o_colorviolet.y + 30
    }
    if (global.p1aura = c_aqua)
    {
    x = o_colorblue.x - 10
    y = o_colorblue.y + 30
    }
    if (global.p1aura = c_lime)
    {
    x = o_colorgreen.x - 10
    y = o_colorgreen.y + 30
    }
    if (global.p1aura = c_yellow)
    {
    x = o_coloryellow.x - 10
    y = o_coloryellow.y + 30
    }
    if (global.p1aura = c_orange)
    {
    x = o_colororange.x - 10
    y = o_colororange.y + 30
    }
    if (global.p1aura = c_red)
    {
    x = o_colorred.x - 10
    y = o_colorred.y + 30
    }

    if (keyboard_check_pressed(global.p1_move_left))
    or (gamepad_button_check_pressed(0,global.p1p_move_left))
    {
        if (global.p1aura = c_fuchsia)
        {
            exit;
        }
        if (global.p1aura = c_aqua)
        {
            global.p1aura = c_fuchsia;
            d = audio_play_sound_on(emit,f_select,false,10);
        }
        if (global.p1aura = c_lime)
        {
            global.p1aura = c_aqua;
            d = audio_play_sound_on(emit,f_select,false,10);
        }
        if (global.p1aura = c_white)
        {
            global.p1aura = c_lime;
            d = audio_play_sound_on(emit,f_select,false,10);
        }
        if (global.p1aura = c_yellow)
        {
            global.p1aura = c_white;
            d = audio_play_sound_on(emit,f_select,false,10);
        }
        if (global.p1aura = c_orange)
        {
            global.p1aura = c_yellow;
            d = audio_play_sound_on(emit,f_select,false,10);
        }
        if (global.p1aura = c_red)
        {
            global.p1aura = c_orange;
            d = audio_play_sound_on(emit,f_select,false,10);
        }
    }
    if (keyboard_check_pressed(global.p1_move_right))
    or (gamepad_button_check_pressed(0,global.p1p_move_right))
    {
        if (global.p1aura = c_red)
        {
            exit;
        }
        if (global.p1aura = c_orange)
        {
            global.p1aura = c_red;
            d = audio_play_sound_on(emit,f_select,false,10);
        }
        if (global.p1aura = c_yellow)
        {
            global.p1aura = c_orange;
            d = audio_play_sound_on(emit,f_select,false,10);
        }
        if (global.p1aura = c_white)
        {
            global.p1aura = c_yellow;
            d = audio_play_sound_on(emit,f_select,false,10);
        }
        if (global.p1aura = c_lime)
        {
            global.p1aura = c_white;
            d = audio_play_sound_on(emit,f_select,false,10);
        }
        if (global.p1aura = c_aqua)
        {
            global.p1aura = c_lime;
            d = audio_play_sound_on(emit,f_select,false,10);
        }
        if (global.p1aura = c_fuchsia)
        {
            global.p1aura = c_aqua;
            d = audio_play_sound_on(emit,f_select,false,10);
        }
    }
    if (keyboard_check_pressed(global.p1_tech_a))
    or (gamepad_button_check_pressed(0,global.p1p_tech_a))
    {
        d = audio_play_sound_on(emit,f_confirm,false,10);
        mode = 'ready2';
    }
}

/////////////////////////////////////////////

else if (mode = 'ready2')
or (mode = 'standby2')
{
    x = o_selectready.x - 10
    y = o_selectready.y + 20
    if (o_char2arrow.mode = 'ready2')
    {
        with (o_tabtechs)
        {
            mode = "next";
            alarm[1] = 60;
        }
        mode = 'standby2';
        o_char2arrow.mode = 'standby2';
    }
    if (keyboard_check_pressed(global.p1_tech_b))
    or (gamepad_button_check_pressed(0,global.p1p_tech_b))
    {
        d = audio_play_sound_on(emit,f_select,false,10);
        mode = 'auraselect';
        if not (o_char2arrow.mode = 'paletteselect')
        and not (o_char2arrow.mode = 'auraselect')
        {
            o_char2arrow.mode = 'ready2';
        }
        o_tabtechs.mode = "set";
    }
}

/////////////////////////////////////////////

else if (mode = 'setselect')
{
    if (set = 'custom')
    {
        global.p1skill_a = 'none';
        global.p1skill_b = 'none';
        global.p1skill_c = 'none';
        global.p1skill_d = 'none';
        global.p1skill_e = 'none';
        global.p1skill_f = 'none';
        x = o_setcustom.x - 10
        y = o_setcustom.y + 30
    }
    if (set = 'standard')
    {
        global.p1skill_a = tech_testblast;
        global.p1skill_b = tech_testlaser;
        global.p1skill_c = tech_testteleport;
        global.p1skill_d = tech_testpunch1;
        global.p1skill_e = tech_testpunch3;
        global.p1skill_f = tech_testreflect;
        x = o_setstandard.x - 10
        y = o_setstandard.y + 30
    }
    if (set = 'cluster')
    {
        global.p1skill_a = tech_testblast3;
        global.p1skill_b = tech_testblast4;
        global.p1skill_c = tech_testblast5;
        global.p1skill_d = tech_testpunch4;
        global.p1skill_e = tech_testrevector;
        global.p1skill_f = tech_testduplicate;
        x = o_setcluster.x - 10
        y = o_setcluster.y + 30
    }
    if (set = 'brawler')
    {
        global.p1skill_a = tech_testpunch1;
        global.p1skill_b = tech_testpunch4;
        global.p1skill_c = tech_testtrap;
        global.p1skill_d = tech_testgrapple;
        global.p1skill_e = tech_testcounter;
        global.p1skill_f = tech_testoverdrive;
        x = o_setbrawler.x - 10
        y = o_setbrawler.y + 30
    }
    if (set = 'tactical')
    {
        global.p1skill_a = tech_testblast2;
        global.p1skill_b = tech_testblast4;
        global.p1skill_c = tech_testgrapple;
        global.p1skill_d = tech_testpunch2;
        global.p1skill_e = tech_testreflect;
        global.p1skill_f = tech_testrevector;
        x = o_settactical.x - 10
        y = o_settactical.y + 30
    }
    if (set = 'reverse')
    {
        global.p1skill_a = tech_testlaser;
        global.p1skill_b = tech_testreflect;
        global.p1skill_c = tech_testteleport;
        global.p1skill_d = tech_testpunch4;
        global.p1skill_e = tech_testcounter;
        global.p1skill_f = tech_testtrap;
        x = o_setreverse.x - 10
        y = o_setreverse.y + 30
    }
    
    if (keyboard_check_pressed(global.p1_tech_b))
    or (gamepad_button_check_pressed(0,global.p1p_tech_b))
    {
        d = audio_play_sound_on(emit,f_select,false,10);
        mode = 'auraselect';
        if (o_char2arrow.mode = 'skillselectA')
        {
            global.p2skill_a = 'none'
        }
        else if (o_char2arrow.mode = 'skillselectB')
        {
            global.p2skill_b = 'none'
        }
        else if (o_char2arrow.mode = 'skillselectC')
        {
            global.p2skill_c = 'none'
        }
        else if (o_char2arrow.mode = 'skillselectD')
        {
            global.p2skill_d = 'none'
        }
        else if (o_char2arrow.mode = 'skillselectE')
        {
            global.p2skill_e = 'none'
        }
        else if (o_char2arrow.mode = 'skillselectF')
        {
            global.p2skill_f = 'none'
        }
        o_char2arrow.mode = 'ready2';
        o_tabtechs.mode = "set";
    }
    
    if (keyboard_check_pressed(global.p1_move_left))
    or (gamepad_button_check_pressed(0,global.p1p_move_left))
    {
        if (set = 'custom')
        {
            exit;
        }
        if (set = 'standard')
        {
            set = 'custom';
        }
        if (set = 'cluster')
        {
            set = 'standard';
        }
        if (set = 'brawler')
        {
            set = 'cluster';
        }
        if (set = 'tactical')
        {
            set = 'brawler';
        }
        if (set = 'reverse')
        {
            set = 'tactical';
        }
    }
    if (keyboard_check_pressed(global.p1_move_right))
    or (gamepad_button_check_pressed(0,global.p1p_move_right))
    {
        if (set = 'reverse')
        {
            exit;
        }
        if (set = 'tactical')
        {
            set = 'reverse';
        }
        if (set = 'brawler')
        {
            set = 'tactical';
        }
        if (set = 'cluster')
        {
            set = 'brawler';
        }
        if (set = 'standard')
        {
            set = 'cluster';
        }
        if (set = 'custom')
        {
            set = 'standard';
        }
    }
    
    if (keyboard_check_pressed(global.p1_tech_a))
    or (gamepad_button_check_pressed(0,global.p1p_tech_a))
    {
        d = audio_play_sound_on(emit,f_confirm,false,10);
        if (set = 'custom')
        {
            set = 'chosen';
            mode = 'skillselectA';
        }
        else if not (set = 'custom')
        {
            set = 'chosen';
            mode = 'ready3';
        }
    }
}

/////////////////////////////////////////////

else if (mode = 'skillselectA')
{
    if (global.p1skill_a = 'none')
    {
        global.p1skill_a = tech_testblast;
    }
    
    if (global.p1skill_a = tech_testblast)
    {
    x = o_iconschot.x - 10
    y = o_iconschot.y + 30
    }
    if (global.p1skill_a = tech_testblast2)
    {
    x = o_iconrfire.x - 10
    y = o_iconrfire.y + 30
    }
    if (global.p1skill_a = tech_testlaser)
    {
    x = o_iconrlaser.x - 10
    y = o_iconrlaser.y + 30
    }
    if (global.p1skill_a = tech_testblast3)
    {
    x = o_iconsshot.x - 10
    y = o_iconsshot.y + 30
    }
    if (global.p1skill_a = tech_testblast4)
    {
    x = o_iconcblast.x - 10
    y = o_iconcblast.y + 30
    }
    if (global.p1skill_a = tech_testblast5)
    {
    x = o_iconcorb.x - 10
    y = o_iconcorb.y + 30
    }
    if (global.p1skill_a = tech_testpunch1)
    {
    x = o_iconphits.x - 10
    y = o_iconphits.y + 30
    }
    if (global.p1skill_a = tech_testpunch2)
    {
    x = o_iconrtaps.x - 10
    y = o_iconrtaps.y + 30
    }
    if (global.p1skill_a = tech_testpunch3)
    {
    x = o_iconrtackle.x - 10
    y = o_iconrtackle.y + 30
    }
    if (global.p1skill_a = tech_testpunch4)
    {
    x = o_iconwswing.x - 10
    y = o_iconwswing.y + 30
    }
    if (global.p1skill_a = tech_testgrapple)
    {
    x = o_icongrab.x - 10
    y = o_icongrab.y + 30
    }
    if (global.p1skill_a = tech_testcounter)
    {
    x = o_iconcounter.x - 10
    y = o_iconcounter.y + 30
    }
    if (global.p1skill_a = tech_testtrap)
    {
    x = o_iconshackles.x - 10
    y = o_iconshackles.y + 30
    }
    if (global.p1skill_a = tech_testreflect)
    {
    x = o_iconreflect.x - 10
    y = o_iconreflect.y + 30
    }
    if (global.p1skill_a = tech_testteleport)
    {
    x = o_iconteleport.x - 10
    y = o_iconteleport.y + 30
    }
    if (global.p1skill_a = tech_testrevector)
    {
    x = o_iconvector.x - 10
    y = o_iconvector.y + 30
    }
    if (global.p1skill_a = tech_testduplicate)
    {
    x = o_iconclone.x - 10
    y = o_iconclone.y + 30
    }
    if (global.p1skill_a = tech_testoverdrive)
    {
    x = o_icondrive.x - 10
    y = o_icondrive.y + 30
    }

    if (keyboard_check_pressed(global.p1_tech_b))
    or (gamepad_button_check_pressed(0,global.p1p_tech_b))
    {
        d = audio_play_sound_on(emit,f_select,false,10);
        global.p1skill_a = 'none'
        set = 'custom';
        mode = 'setselect';
    }
    
    if (keyboard_check_pressed(global.p1_move_left))
    or (gamepad_button_check_pressed(0,global.p1p_move_left))
    {
        if (global.p1skill_a = tech_testblast)
        {
            exit;
        }
        if (global.p1skill_a = tech_testblast2)
        {
            global.p1skill_a = tech_testblast;
            d = audio_play_sound_on(emit,f_select,false,10);
        }
        if (global.p1skill_a = tech_testlaser)
        {
            global.p1skill_a = tech_testblast2;
            d = audio_play_sound_on(emit,f_select,false,10);
        }
        if (global.p1skill_a = tech_testblast3)
        {
            global.p1skill_a = tech_testlaser;
            d = audio_play_sound_on(emit,f_select,false,10);
        }
        if (global.p1skill_a = tech_testblast4)
        {
            global.p1skill_a = tech_testblast3;
            d = audio_play_sound_on(emit,f_select,false,10);
        }
        if (global.p1skill_a = tech_testblast5)
        {
            global.p1skill_a = tech_testblast4;
            d = audio_play_sound_on(emit,f_select,false,10);
        }
        if (global.p1skill_a = tech_testpunch1)
        {
            exit;
        }
        if (global.p1skill_a = tech_testpunch2)
        {
            global.p1skill_a = tech_testpunch1;
            d = audio_play_sound_on(emit,f_select,false,10);
        }
        if (global.p1skill_a = tech_testpunch3)
        {
            global.p1skill_a = tech_testpunch2;
            d = audio_play_sound_on(emit,f_select,false,10);
        }
        if (global.p1skill_a = tech_testpunch4)
        {
            global.p1skill_a = tech_testpunch3;
            d = audio_play_sound_on(emit,f_select,false,10);
        }
        if (global.p1skill_a = tech_testgrapple)
        {
            global.p1skill_a = tech_testpunch4;
            d = audio_play_sound_on(emit,f_select,false,10);
        }
        if (global.p1skill_a = tech_testcounter)
        {
            global.p1skill_a = tech_testgrapple;
            d = audio_play_sound_on(emit,f_select,false,10);
        }
        if (global.p1skill_a = tech_testtrap)
        {
            exit;
        }
        if (global.p1skill_a = tech_testreflect)
        {
            global.p1skill_a = tech_testtrap;
            d = audio_play_sound_on(emit,f_select,false,10);
        }
        if (global.p1skill_a = tech_testteleport)
        {
            global.p1skill_a = tech_testreflect;
            d = audio_play_sound_on(emit,f_select,false,10);
        }
        if (global.p1skill_a = tech_testrevector)
        {
            global.p1skill_a = tech_testteleport;
            d = audio_play_sound_on(emit,f_select,false,10);
        }
        if (global.p1skill_a = tech_testduplicate)
        {
            global.p1skill_a = tech_testrevector;
            d = audio_play_sound_on(emit,f_select,false,10);
        }
        if (global.p1skill_a = tech_testoverdrive)
        {
            global.p1skill_a = tech_testduplicate;
            d = audio_play_sound_on(emit,f_select,false,10);
        }
    }
    
    if (keyboard_check_pressed(global.p1_move_right))
    or (gamepad_button_check_pressed(0,global.p1p_move_right))
    {
        if (global.p1skill_a = tech_testcounter)
        {
            exit;
        }
        if (global.p1skill_a = tech_testgrapple)
        {
            global.p1skill_a = tech_testcounter;
            d = audio_play_sound_on(emit,f_select,false,10);
        }
        if (global.p1skill_a = tech_testpunch4)
        {
            global.p1skill_a = tech_testgrapple;
            d = audio_play_sound_on(emit,f_select,false,10);
        }
        if (global.p1skill_a = tech_testpunch3)
        {
            global.p1skill_a = tech_testpunch4;
            d = audio_play_sound_on(emit,f_select,false,10);
        }
        if (global.p1skill_a = tech_testpunch2)
        {
            global.p1skill_a = tech_testpunch3;
            d = audio_play_sound_on(emit,f_select,false,10);
        }
        if (global.p1skill_a = tech_testpunch1)
        {
            global.p1skill_a = tech_testpunch2;
            d = audio_play_sound_on(emit,f_select,false,10);
        }
        if (global.p1skill_a = tech_testblast5)
        {
            exit;
        }
        if (global.p1skill_a = tech_testblast4)
        {
            global.p1skill_a = tech_testblast5;
            d = audio_play_sound_on(emit,f_select,false,10);
        }
        if (global.p1skill_a = tech_testblast3)
        {
            global.p1skill_a = tech_testblast4;
            d = audio_play_sound_on(emit,f_select,false,10);
        }
        if (global.p1skill_a = tech_testlaser)
        {
            global.p1skill_a = tech_testblast3;
            d = audio_play_sound_on(emit,f_select,false,10);
        }
        if (global.p1skill_a = tech_testblast2)
        {
            global.p1skill_a = tech_testlaser;
            d = audio_play_sound_on(emit,f_select,false,10);
        }
        if (global.p1skill_a = tech_testblast)
        {
            global.p1skill_a = tech_testblast2;
            d = audio_play_sound_on(emit,f_select,false,10);
        }
        if (global.p1skill_a = tech_testoverdrive)
        {
            exit;
        }
        if (global.p1skill_a = tech_testduplicate)
        {
            global.p1skill_a = tech_testoverdrive;
            d = audio_play_sound_on(emit,f_select,false,10);
        }
        if (global.p1skill_a = tech_testrevector)
        {
            global.p1skill_a = tech_testduplicate;
            d = audio_play_sound_on(emit,f_select,false,10);
        }
        if (global.p1skill_a = tech_testteleport)
        {
            global.p1skill_a = tech_testrevector;
            d = audio_play_sound_on(emit,f_select,false,10);
        }
        if (global.p1skill_a = tech_testreflect)
        {
            global.p1skill_a = tech_testteleport;
            d = audio_play_sound_on(emit,f_select,false,10);
        }
        if (global.p1skill_a = tech_testtrap)
        {
            global.p1skill_a = tech_testreflect;
            d = audio_play_sound_on(emit,f_select,false,10);
        }
    }
    
    if (keyboard_check_pressed(global.p1_move_up))
    or (gamepad_button_check_pressed(0,global.p1p_move_up))
    {
        if (global.p1skill_a = tech_testblast)
        {
            exit;
        }
        if (global.p1skill_a = tech_testblast2)
        {
            exit;
        }
        if (global.p1skill_a = tech_testlaser)
        {
            exit;
        }
        if (global.p1skill_a = tech_testblast3)
        {
            exit;
        }
        if (global.p1skill_a = tech_testblast4)
        {
            exit;
        }
        if (global.p1skill_a = tech_testblast5)
        {
            exit;
        }
        if (global.p1skill_a = tech_testpunch1)
        {
            global.p1skill_a = tech_testblast;
            d = audio_play_sound_on(emit,f_select,false,10);
        }
        if (global.p1skill_a = tech_testpunch2)
        {
            global.p1skill_a = tech_testblast2;
            d = audio_play_sound_on(emit,f_select,false,10);
        }
        if (global.p1skill_a = tech_testpunch3)
        {
            global.p1skill_a = tech_testlaser;
            d = audio_play_sound_on(emit,f_select,false,10);
        }
        if (global.p1skill_a = tech_testpunch4)
        {
            global.p1skill_a = tech_testblast3;
            d = audio_play_sound_on(emit,f_select,false,10);
        }
        if (global.p1skill_a = tech_testgrapple)
        {
            global.p1skill_a = tech_testblast4;
            d = audio_play_sound_on(emit,f_select,false,10);
        }
        if (global.p1skill_a = tech_testcounter)
        {
            global.p1skill_a = tech_testblast5;
            d = audio_play_sound_on(emit,f_select,false,10);
        }
        if (global.p1skill_a = tech_testtrap)
        {
            global.p1skill_a = tech_testpunch1;
            d = audio_play_sound_on(emit,f_select,false,10);
        }
        if (global.p1skill_a = tech_testreflect)
        {
            global.p1skill_a = tech_testpunch2;
            d = audio_play_sound_on(emit,f_select,false,10);
        }
        if (global.p1skill_a = tech_testteleport)
        {
            global.p1skill_a = tech_testpunch3;
            d = audio_play_sound_on(emit,f_select,false,10);
        }
        if (global.p1skill_a = tech_testrevector)
        {
            global.p1skill_a = tech_testpunch4;
            d = audio_play_sound_on(emit,f_select,false,10);
        }
        if (global.p1skill_a = tech_testduplicate)
        {
            global.p1skill_a = tech_testgrapple;
            d = audio_play_sound_on(emit,f_select,false,10);
        }
        if (global.p1skill_a = tech_testoverdrive)
        {
            global.p1skill_a = tech_testcounter;
            d = audio_play_sound_on(emit,f_select,false,10);
        }
    }
    
    if (keyboard_check_pressed(global.p1_move_down))
    or (gamepad_button_check_pressed(0,global.p1p_move_down))
    {
        if (global.p1skill_a = tech_testtrap)
        {
            exit;
        }
        if (global.p1skill_a = tech_testreflect)
        {
            exit;
        }
        if (global.p1skill_a = tech_testteleport)
        {
            exit;
        }
        if (global.p1skill_a = tech_testrevector)
        {
            exit;
        }
        if (global.p1skill_a = tech_testgrapple)
        {
            global.p1skill_a = tech_testduplicate;
            d = audio_play_sound_on(emit,f_select,false,10);
        }
        if (global.p1skill_a = tech_testcounter)
        {
            global.p1skill_a = tech_testoverdrive;
            d = audio_play_sound_on(emit,f_select,false,10);
        }
        if (global.p1skill_a = tech_testpunch4)
        {
            global.p1skill_a = tech_testrevector;
            d = audio_play_sound_on(emit,f_select,false,10);
        }
        if (global.p1skill_a = tech_testpunch3)
        {
            global.p1skill_a = tech_testteleport;
            d = audio_play_sound_on(emit,f_select,false,10);
        }
        if (global.p1skill_a = tech_testpunch2)
        {
            global.p1skill_a = tech_testreflect;
            d = audio_play_sound_on(emit,f_select,false,10);
        }
        if (global.p1skill_a = tech_testpunch1)
        {
            global.p1skill_a = tech_testtrap;
            d = audio_play_sound_on(emit,f_select,false,10);
        }
        if (global.p1skill_a = tech_testlaser)
        {
            global.p1skill_a = tech_testpunch3;
            d = audio_play_sound_on(emit,f_select,false,10);
        }
        if (global.p1skill_a = tech_testblast2)
        {
            global.p1skill_a = tech_testpunch2;
            d = audio_play_sound_on(emit,f_select,false,10);
        }
        if (global.p1skill_a = tech_testblast)
        {
            global.p1skill_a = tech_testpunch1;
            d = audio_play_sound_on(emit,f_select,false,10);
        }
        if (global.p1skill_a = tech_testblast3)
        {
            global.p1skill_a = tech_testpunch4;
            d = audio_play_sound_on(emit,f_select,false,10);
        }
        if (global.p1skill_a = tech_testblast4)
        {
            global.p1skill_a = tech_testgrapple;
            d = audio_play_sound_on(emit,f_select,false,10);
        }
        if (global.p1skill_a = tech_testblast5)
        {
            global.p1skill_a = tech_testcounter;
            d = audio_play_sound_on(emit,f_select,false,10);
        }
    }
    
    if (keyboard_check_pressed(global.p1_tech_a))
    or (gamepad_button_check_pressed(0,global.p1p_tech_a))
    {
        d = audio_play_sound_on(emit,f_confirm,false,10);
        mode = 'skillselectB';
    }
}

/////////////////////////////////////////////

else if (mode = 'skillselectB')
{
    if (global.p1skill_b = 'none')
    {
        global.p1skill_b = global.p1skill_a;
    }
    
    if (global.p1skill_b = tech_testblast)
    {
    x = o_iconschot.x - 10
    y = o_iconschot.y + 30
    }
    if (global.p1skill_b = tech_testblast2)
    {
    x = o_iconrfire.x - 10
    y = o_iconrfire.y + 30
    }
    if (global.p1skill_b = tech_testlaser)
    {
    x = o_iconrlaser.x - 10
    y = o_iconrlaser.y + 30
    }
    if (global.p1skill_b = tech_testblast3)
    {
    x = o_iconsshot.x - 10
    y = o_iconsshot.y + 30
    }
    if (global.p1skill_b = tech_testblast4)
    {
    x = o_iconcblast.x - 10
    y = o_iconcblast.y + 30
    }
    if (global.p1skill_b = tech_testblast5)
    {
    x = o_iconcorb.x - 10
    y = o_iconcorb.y + 30
    }
    if (global.p1skill_b = tech_testpunch1)
    {
    x = o_iconphits.x - 10
    y = o_iconphits.y + 30
    }
    if (global.p1skill_b = tech_testpunch2)
    {
    x = o_iconrtaps.x - 10
    y = o_iconrtaps.y + 30
    }
    if (global.p1skill_b = tech_testpunch3)
    {
    x = o_iconrtackle.x - 10
    y = o_iconrtackle.y + 30
    }
    if (global.p1skill_b = tech_testpunch4)
    {
    x = o_iconwswing.x - 10
    y = o_iconwswing.y + 30
    }
    if (global.p1skill_b = tech_testgrapple)
    {
    x = o_icongrab.x - 10
    y = o_icongrab.y + 30
    }
    if (global.p1skill_b = tech_testcounter)
    {
    x = o_iconcounter.x - 10
    y = o_iconcounter.y + 30
    }
    if (global.p1skill_b = tech_testtrap)
    {
    x = o_iconshackles.x - 10
    y = o_iconshackles.y + 30
    }
    if (global.p1skill_b = tech_testreflect)
    {
    x = o_iconreflect.x - 10
    y = o_iconreflect.y + 30
    }
    if (global.p1skill_b = tech_testteleport)
    {
    x = o_iconteleport.x - 10
    y = o_iconteleport.y + 30
    }
    if (global.p1skill_b = tech_testrevector)
    {
    x = o_iconvector.x - 10
    y = o_iconvector.y + 30
    }
    if (global.p1skill_b = tech_testduplicate)
    {
    x = o_iconclone.x - 10
    y = o_iconclone.y + 30
    }
    if (global.p1skill_b = tech_testoverdrive)
    {
    x = o_icondrive.x - 10
    y = o_icondrive.y + 30
    }

    if (keyboard_check_pressed(global.p1_tech_b))
    or (gamepad_button_check_pressed(0,global.p1p_tech_b))
    {
        d = audio_play_sound_on(emit,f_select,false,10);
        global.p1skill_a = global.p1skill_b;
        global.p1skill_b = 'none'
        mode = 'skillselectA';
    }
    
    if (keyboard_check_pressed(global.p1_move_left))
    or (gamepad_button_check_pressed(0,global.p1p_move_left))
    {
        if (global.p1skill_b = tech_testblast)
        {
            exit;
        }
        if (global.p1skill_b = tech_testblast2)
        {
            global.p1skill_b = tech_testblast;
            d = audio_play_sound_on(emit,f_select,false,10);
        }
        if (global.p1skill_b = tech_testlaser)
        {
            global.p1skill_b = tech_testblast2;
            d = audio_play_sound_on(emit,f_select,false,10);
        }
        if (global.p1skill_b = tech_testblast3)
        {
            global.p1skill_b = tech_testlaser;
            d = audio_play_sound_on(emit,f_select,false,10);
        }
        if (global.p1skill_b = tech_testblast4)
        {
            global.p1skill_b = tech_testblast3;
            d = audio_play_sound_on(emit,f_select,false,10);
        }
        if (global.p1skill_b = tech_testblast5)
        {
            global.p1skill_b = tech_testblast4;
            d = audio_play_sound_on(emit,f_select,false,10);
        }
        if (global.p1skill_b = tech_testpunch1)
        {
            exit;
        }
        if (global.p1skill_b = tech_testpunch2)
        {
            global.p1skill_b = tech_testpunch1;
            d = audio_play_sound_on(emit,f_select,false,10);
        }
        if (global.p1skill_b = tech_testpunch3)
        {
            global.p1skill_b = tech_testpunch2;
            d = audio_play_sound_on(emit,f_select,false,10);
        }
        if (global.p1skill_b = tech_testpunch4)
        {
            global.p1skill_b = tech_testpunch3;
            d = audio_play_sound_on(emit,f_select,false,10);
        }
        if (global.p1skill_b = tech_testgrapple)
        {
            global.p1skill_b = tech_testpunch4;
            d = audio_play_sound_on(emit,f_select,false,10);
        }
        if (global.p1skill_b = tech_testcounter)
        {
            global.p1skill_b = tech_testgrapple;
            d = audio_play_sound_on(emit,f_select,false,10);
        }
        if (global.p1skill_b = tech_testtrap)
        {
            exit;
        }
        if (global.p1skill_b = tech_testreflect)
        {
            global.p1skill_b = tech_testtrap;
            d = audio_play_sound_on(emit,f_select,false,10);
        }
        if (global.p1skill_b = tech_testteleport)
        {
            global.p1skill_b = tech_testreflect;
            d = audio_play_sound_on(emit,f_select,false,10);
        }
        if (global.p1skill_b = tech_testrevector)
        {
            global.p1skill_b = tech_testteleport;
            d = audio_play_sound_on(emit,f_select,false,10);
        }
        if (global.p1skill_b = tech_testduplicate)
        {
            global.p1skill_b = tech_testrevector;
            d = audio_play_sound_on(emit,f_select,false,10);
        }
        if (global.p1skill_b = tech_testoverdrive)
        {
            global.p1skill_b = tech_testduplicate;
            d = audio_play_sound_on(emit,f_select,false,10);
        }
    }
    
    if (keyboard_check_pressed(global.p1_move_right))
    or (gamepad_button_check_pressed(0,global.p1p_move_right))
    {
        if (global.p1skill_b = tech_testcounter)
        {
            exit;
        }
        if (global.p1skill_b = tech_testgrapple)
        {
            global.p1skill_b = tech_testcounter;
            d = audio_play_sound_on(emit,f_select,false,10);
        }
        if (global.p1skill_b = tech_testpunch4)
        {
            global.p1skill_b = tech_testgrapple;
            d = audio_play_sound_on(emit,f_select,false,10);
        }
        if (global.p1skill_b = tech_testpunch3)
        {
            global.p1skill_b = tech_testpunch4;
            d = audio_play_sound_on(emit,f_select,false,10);
        }
        if (global.p1skill_b = tech_testpunch2)
        {
            global.p1skill_b = tech_testpunch3;
            d = audio_play_sound_on(emit,f_select,false,10);
        }
        if (global.p1skill_b = tech_testpunch1)
        {
            global.p1skill_b = tech_testpunch2;
            d = audio_play_sound_on(emit,f_select,false,10);
        }
        if (global.p1skill_b = tech_testblast5)
        {
            exit;
        }
        if (global.p1skill_b = tech_testblast4)
        {
            global.p1skill_b = tech_testblast5;
            d = audio_play_sound_on(emit,f_select,false,10);
        }
        if (global.p1skill_b = tech_testblast3)
        {
            global.p1skill_b = tech_testblast4;
            d = audio_play_sound_on(emit,f_select,false,10);
        }
        if (global.p1skill_b = tech_testlaser)
        {
            global.p1skill_b = tech_testblast3;
            d = audio_play_sound_on(emit,f_select,false,10);
        }
        if (global.p1skill_b = tech_testblast2)
        {
            global.p1skill_b = tech_testlaser;
            d = audio_play_sound_on(emit,f_select,false,10);
        }
        if (global.p1skill_b = tech_testblast)
        {
            global.p1skill_b = tech_testblast2;
            d = audio_play_sound_on(emit,f_select,false,10);
        }
        if (global.p1skill_b = tech_testoverdrive)
        {
            exit;
        }
        if (global.p1skill_b = tech_testduplicate)
        {
            global.p1skill_b = tech_testoverdrive;
            d = audio_play_sound_on(emit,f_select,false,10);
        }
        if (global.p1skill_b = tech_testrevector)
        {
            global.p1skill_b = tech_testduplicate;
            d = audio_play_sound_on(emit,f_select,false,10);
        }
        if (global.p1skill_b = tech_testteleport)
        {
            global.p1skill_b = tech_testrevector;
            d = audio_play_sound_on(emit,f_select,false,10);
        }
        if (global.p1skill_b = tech_testreflect)
        {
            global.p1skill_b = tech_testteleport;
            d = audio_play_sound_on(emit,f_select,false,10);
        }
        if (global.p1skill_b = tech_testtrap)
        {
            global.p1skill_b = tech_testreflect;
            d = audio_play_sound_on(emit,f_select,false,10);
        }
    }
    
    if (keyboard_check_pressed(global.p1_move_up))
    or (gamepad_button_check_pressed(0,global.p1p_move_up))
    {
        if (global.p1skill_b = tech_testblast)
        {
            exit;
        }
        if (global.p1skill_b = tech_testblast2)
        {
            exit;
        }
        if (global.p1skill_b = tech_testlaser)
        {
            exit;
        }
        if (global.p1skill_b = tech_testblast3)
        {
            exit;
        }
        if (global.p1skill_b = tech_testblast4)
        {
            exit;
        }
        if (global.p1skill_b = tech_testblast5)
        {
            exit;
        }
        if (global.p1skill_b = tech_testpunch1)
        {
            global.p1skill_b = tech_testblast;
            d = audio_play_sound_on(emit,f_select,false,10);
        }
        if (global.p1skill_b = tech_testpunch2)
        {
            global.p1skill_b = tech_testblast2;
            d = audio_play_sound_on(emit,f_select,false,10);
        }
        if (global.p1skill_b = tech_testpunch3)
        {
            global.p1skill_b = tech_testlaser;
            d = audio_play_sound_on(emit,f_select,false,10);
        }
        if (global.p1skill_b = tech_testpunch4)
        {
            global.p1skill_b = tech_testblast3;
            d = audio_play_sound_on(emit,f_select,false,10);
        }
        if (global.p1skill_b = tech_testgrapple)
        {
            global.p1skill_b = tech_testblast4;
            d = audio_play_sound_on(emit,f_select,false,10);
        }
        if (global.p1skill_b = tech_testcounter)
        {
            global.p1skill_b = tech_testblast5;
            d = audio_play_sound_on(emit,f_select,false,10);
        }
        if (global.p1skill_b = tech_testtrap)
        {
            global.p1skill_b = tech_testpunch1;
            d = audio_play_sound_on(emit,f_select,false,10);
        }
        if (global.p1skill_b = tech_testreflect)
        {
            global.p1skill_b = tech_testpunch2;
            d = audio_play_sound_on(emit,f_select,false,10);
        }
        if (global.p1skill_b = tech_testteleport)
        {
            global.p1skill_b = tech_testpunch3;
            d = audio_play_sound_on(emit,f_select,false,10);
        }
        if (global.p1skill_b = tech_testrevector)
        {
            global.p1skill_b = tech_testpunch4;
            d = audio_play_sound_on(emit,f_select,false,10);
        }
        if (global.p1skill_b = tech_testduplicate)
        {
            global.p1skill_b = tech_testgrapple;
            d = audio_play_sound_on(emit,f_select,false,10);
        }
        if (global.p1skill_b = tech_testoverdrive)
        {
            global.p1skill_b = tech_testcounter;
            d = audio_play_sound_on(emit,f_select,false,10);
        }
    }
    
    if (keyboard_check_pressed(global.p1_move_down))
    or (gamepad_button_check_pressed(0,global.p1p_move_down))
    {
        if (global.p1skill_b = tech_testtrap)
        {
            exit;
        }
        if (global.p1skill_b = tech_testreflect)
        {
            exit;
        }
        if (global.p1skill_b = tech_testteleport)
        {
            exit;
        }
        if (global.p1skill_b = tech_testrevector)
        {
            exit;
        }
        if (global.p1skill_b = tech_testgrapple)
        {
            global.p1skill_b = tech_testduplicate;
            d = audio_play_sound_on(emit,f_select,false,10);
        }
        if (global.p1skill_b = tech_testcounter)
        {
            global.p1skill_b = tech_testoverdrive;
            d = audio_play_sound_on(emit,f_select,false,10);
        }
        if (global.p1skill_b = tech_testpunch4)
        {
            global.p1skill_b = tech_testrevector;
            d = audio_play_sound_on(emit,f_select,false,10);
        }
        if (global.p1skill_b = tech_testpunch3)
        {
            global.p1skill_b = tech_testteleport;
            d = audio_play_sound_on(emit,f_select,false,10);
        }
        if (global.p1skill_b = tech_testpunch2)
        {
            global.p1skill_b = tech_testreflect;
            d = audio_play_sound_on(emit,f_select,false,10);
        }
        if (global.p1skill_b = tech_testpunch1)
        {
            global.p1skill_b = tech_testtrap;
            d = audio_play_sound_on(emit,f_select,false,10);
        }
        if (global.p1skill_b = tech_testlaser)
        {
            global.p1skill_b = tech_testpunch3;
            d = audio_play_sound_on(emit,f_select,false,10);
        }
        if (global.p1skill_b = tech_testblast2)
        {
            global.p1skill_b = tech_testpunch2;
            d = audio_play_sound_on(emit,f_select,false,10);
        }
        if (global.p1skill_b = tech_testblast)
        {
            global.p1skill_b = tech_testpunch1;
            d = audio_play_sound_on(emit,f_select,false,10);
        }
        if (global.p1skill_b = tech_testblast3)
        {
            global.p1skill_b = tech_testpunch4;
            d = audio_play_sound_on(emit,f_select,false,10);
        }
        if (global.p1skill_b = tech_testblast4)
        {
            global.p1skill_b = tech_testgrapple;
            d = audio_play_sound_on(emit,f_select,false,10);
        }
        if (global.p1skill_b = tech_testblast5)
        {
            global.p1skill_b = tech_testcounter;
            d = audio_play_sound_on(emit,f_select,false,10);
        }
    }
    
    if (keyboard_check_pressed(global.p1_tech_a))
    or (gamepad_button_check_pressed(0,global.p1p_tech_a))
    {
        if not (global.p1skill_b = global.p1skill_a)
        {
            d = audio_play_sound_on(emit,f_confirm,false,10);
            mode = 'skillselectC';
        }
    }
}

/////////////////////////////////////////////

else if (mode = 'skillselectC')
{
    if (global.p1skill_c = 'none')
    {
        global.p1skill_c = global.p1skill_b;
    }
    
    if (global.p1skill_c = tech_testblast)
    {
    x = o_iconschot.x - 10
    y = o_iconschot.y + 30
    }
    if (global.p1skill_c = tech_testblast2)
    {
    x = o_iconrfire.x - 10
    y = o_iconrfire.y + 30
    }
    if (global.p1skill_c = tech_testlaser)
    {
    x = o_iconrlaser.x - 10
    y = o_iconrlaser.y + 30
    }
    if (global.p1skill_c = tech_testblast3)
    {
    x = o_iconsshot.x - 10
    y = o_iconsshot.y + 30
    }
    if (global.p1skill_c = tech_testblast4)
    {
    x = o_iconcblast.x - 10
    y = o_iconcblast.y + 30
    }
    if (global.p1skill_c = tech_testblast5)
    {
    x = o_iconcorb.x - 10
    y = o_iconcorb.y + 30
    }
    if (global.p1skill_c = tech_testpunch1)
    {
    x = o_iconphits.x - 10
    y = o_iconphits.y + 30
    }
    if (global.p1skill_c = tech_testpunch2)
    {
    x = o_iconrtaps.x - 10
    y = o_iconrtaps.y + 30
    }
    if (global.p1skill_c = tech_testpunch3)
    {
    x = o_iconrtackle.x - 10
    y = o_iconrtackle.y + 30
    }
    if (global.p1skill_c = tech_testpunch4)
    {
    x = o_iconwswing.x - 10
    y = o_iconwswing.y + 30
    }
    if (global.p1skill_c = tech_testgrapple)
    {
    x = o_icongrab.x - 10
    y = o_icongrab.y + 30
    }
    if (global.p1skill_c = tech_testcounter)
    {
    x = o_iconcounter.x - 10
    y = o_iconcounter.y + 30
    }
    if (global.p1skill_c = tech_testtrap)
    {
    x = o_iconshackles.x - 10
    y = o_iconshackles.y + 30
    }
    if (global.p1skill_c = tech_testreflect)
    {
    x = o_iconreflect.x - 10
    y = o_iconreflect.y + 30
    }
    if (global.p1skill_c = tech_testteleport)
    {
    x = o_iconteleport.x - 10
    y = o_iconteleport.y + 30
    }
    if (global.p1skill_c = tech_testrevector)
    {
    x = o_iconvector.x - 10
    y = o_iconvector.y + 30
    }
    if (global.p1skill_c = tech_testduplicate)
    {
    x = o_iconclone.x - 10
    y = o_iconclone.y + 30
    }
    if (global.p1skill_c = tech_testoverdrive)
    {
    x = o_icondrive.x - 10
    y = o_icondrive.y + 30
    }

    if (keyboard_check_pressed(global.p1_tech_b))
    or (gamepad_button_check_pressed(0,global.p1p_tech_b))
    {
        d = audio_play_sound_on(emit,f_select,false,10);
        global.p1skill_b = global.p1skill_c;
        global.p1skill_c = 'none'
        mode = 'skillselectB';
    }
    
    if (keyboard_check_pressed(global.p1_move_left))
    or (gamepad_button_check_pressed(0,global.p1p_move_left))
    {
        if (global.p1skill_c = tech_testblast)
        {
            exit;
        }
        if (global.p1skill_c = tech_testblast2)
        {
            global.p1skill_c = tech_testblast;
            d = audio_play_sound_on(emit,f_select,false,10);
        }
        if (global.p1skill_c = tech_testlaser)
        {
            global.p1skill_c = tech_testblast2;
            d = audio_play_sound_on(emit,f_select,false,10);
        }
        if (global.p1skill_c = tech_testblast3)
        {
            global.p1skill_c = tech_testlaser;
            d = audio_play_sound_on(emit,f_select,false,10);
        }
        if (global.p1skill_c = tech_testblast4)
        {
            global.p1skill_c = tech_testblast3;
            d = audio_play_sound_on(emit,f_select,false,10);
        }
        if (global.p1skill_c = tech_testblast5)
        {
            global.p1skill_c = tech_testblast4;
            d = audio_play_sound_on(emit,f_select,false,10);
        }
        if (global.p1skill_c = tech_testpunch1)
        {
            exit;
        }
        if (global.p1skill_c = tech_testpunch2)
        {
            global.p1skill_c = tech_testpunch1;
            d = audio_play_sound_on(emit,f_select,false,10);
        }
        if (global.p1skill_c = tech_testpunch3)
        {
            global.p1skill_c = tech_testpunch2;
            d = audio_play_sound_on(emit,f_select,false,10);
        }
        if (global.p1skill_c = tech_testpunch4)
        {
            global.p1skill_c = tech_testpunch3;
            d = audio_play_sound_on(emit,f_select,false,10);
        }
        if (global.p1skill_c = tech_testgrapple)
        {
            global.p1skill_c = tech_testpunch4;
            d = audio_play_sound_on(emit,f_select,false,10);
        }
        if (global.p1skill_c = tech_testcounter)
        {
            global.p1skill_c = tech_testgrapple;
            d = audio_play_sound_on(emit,f_select,false,10);
        }
        if (global.p1skill_c = tech_testtrap)
        {
            exit;
        }
        if (global.p1skill_c = tech_testreflect)
        {
            global.p1skill_c = tech_testtrap;
            d = audio_play_sound_on(emit,f_select,false,10);
        }
        if (global.p1skill_c = tech_testteleport)
        {
            global.p1skill_c = tech_testreflect;
            d = audio_play_sound_on(emit,f_select,false,10);
        }
        if (global.p1skill_c = tech_testrevector)
        {
            global.p1skill_c = tech_testteleport;
            d = audio_play_sound_on(emit,f_select,false,10);
        }
        if (global.p1skill_c = tech_testduplicate)
        {
            global.p1skill_c = tech_testrevector;
            d = audio_play_sound_on(emit,f_select,false,10);
        }
        if (global.p1skill_c = tech_testoverdrive)
        {
            global.p1skill_c = tech_testduplicate;
            d = audio_play_sound_on(emit,f_select,false,10);
        }
    }
    
    if (keyboard_check_pressed(global.p1_move_right))
    or (gamepad_button_check_pressed(0,global.p1p_move_right))
    {
        if (global.p1skill_c = tech_testcounter)
        {
            exit;
        }
        if (global.p1skill_c = tech_testgrapple)
        {
            global.p1skill_c = tech_testcounter;
            d = audio_play_sound_on(emit,f_select,false,10);
        }
        if (global.p1skill_c = tech_testpunch4)
        {
            global.p1skill_c = tech_testgrapple;
            d = audio_play_sound_on(emit,f_select,false,10);
        }
        if (global.p1skill_c = tech_testpunch3)
        {
            global.p1skill_c = tech_testpunch4;
            d = audio_play_sound_on(emit,f_select,false,10);
        }
        if (global.p1skill_c = tech_testpunch2)
        {
            global.p1skill_c = tech_testpunch3;
            d = audio_play_sound_on(emit,f_select,false,10);
        }
        if (global.p1skill_c = tech_testpunch1)
        {
            global.p1skill_c = tech_testpunch2;
            d = audio_play_sound_on(emit,f_select,false,10);
        }
        if (global.p1skill_c = tech_testblast5)
        {
            exit;
        }
        if (global.p1skill_c = tech_testblast4)
        {
            global.p1skill_c = tech_testblast5;
            d = audio_play_sound_on(emit,f_select,false,10);
        }
        if (global.p1skill_c = tech_testblast3)
        {
            global.p1skill_c = tech_testblast4;
            d = audio_play_sound_on(emit,f_select,false,10);
        }
        if (global.p1skill_c = tech_testlaser)
        {
            global.p1skill_c = tech_testblast3;
            d = audio_play_sound_on(emit,f_select,false,10);
        }
        if (global.p1skill_c = tech_testblast2)
        {
            global.p1skill_c = tech_testlaser;
            d = audio_play_sound_on(emit,f_select,false,10);
        }
        if (global.p1skill_c = tech_testblast)
        {
            global.p1skill_c = tech_testblast2;
            d = audio_play_sound_on(emit,f_select,false,10);
        }
        if (global.p1skill_c = tech_testoverdrive)
        {
            exit;
        }
        if (global.p1skill_c = tech_testduplicate)
        {
            global.p1skill_c = tech_testoverdrive;
            d = audio_play_sound_on(emit,f_select,false,10);
        }
        if (global.p1skill_c = tech_testrevector)
        {
            global.p1skill_c = tech_testduplicate;
            d = audio_play_sound_on(emit,f_select,false,10);
        }
        if (global.p1skill_c = tech_testteleport)
        {
            global.p1skill_c = tech_testrevector;
            d = audio_play_sound_on(emit,f_select,false,10);
        }
        if (global.p1skill_c = tech_testreflect)
        {
            global.p1skill_c = tech_testteleport;
            d = audio_play_sound_on(emit,f_select,false,10);
        }
        if (global.p1skill_c = tech_testtrap)
        {
            global.p1skill_c = tech_testreflect;
            d = audio_play_sound_on(emit,f_select,false,10);
        }
    }
    
    if (keyboard_check_pressed(global.p1_move_up))
    or (gamepad_button_check_pressed(0,global.p1p_move_up))
    {
        if (global.p1skill_c = tech_testblast)
        {
            exit;
        }
        if (global.p1skill_c = tech_testblast2)
        {
            exit;
        }
        if (global.p1skill_c = tech_testlaser)
        {
            exit;
        }
        if (global.p1skill_c = tech_testblast3)
        {
            exit;
        }
        if (global.p1skill_c = tech_testblast4)
        {
            exit;
        }
        if (global.p1skill_c = tech_testblast5)
        {
            exit;
        }
        if (global.p1skill_c = tech_testpunch1)
        {
            global.p1skill_c = tech_testblast;
            d = audio_play_sound_on(emit,f_select,false,10);
        }
        if (global.p1skill_c = tech_testpunch2)
        {
            global.p1skill_c = tech_testblast2;
            d = audio_play_sound_on(emit,f_select,false,10);
        }
        if (global.p1skill_c = tech_testpunch3)
        {
            global.p1skill_c = tech_testlaser;
            d = audio_play_sound_on(emit,f_select,false,10);
        }
        if (global.p1skill_c = tech_testpunch4)
        {
            global.p1skill_c = tech_testblast3;
            d = audio_play_sound_on(emit,f_select,false,10);
        }
        if (global.p1skill_c = tech_testgrapple)
        {
            global.p1skill_c = tech_testblast4;
            d = audio_play_sound_on(emit,f_select,false,10);
        }
        if (global.p1skill_c = tech_testcounter)
        {
            global.p1skill_c = tech_testblast5;
            d = audio_play_sound_on(emit,f_select,false,10);
        }
        if (global.p1skill_c = tech_testtrap)
        {
            global.p1skill_c = tech_testpunch1;
            d = audio_play_sound_on(emit,f_select,false,10);
        }
        if (global.p1skill_c = tech_testreflect)
        {
            global.p1skill_c = tech_testpunch2;
            d = audio_play_sound_on(emit,f_select,false,10);
        }
        if (global.p1skill_c = tech_testteleport)
        {
            global.p1skill_c = tech_testpunch3;
            d = audio_play_sound_on(emit,f_select,false,10);
        }
        if (global.p1skill_c = tech_testrevector)
        {
            global.p1skill_c = tech_testpunch4;
            d = audio_play_sound_on(emit,f_select,false,10);
        }
        if (global.p1skill_c = tech_testduplicate)
        {
            global.p1skill_c = tech_testgrapple;
            d = audio_play_sound_on(emit,f_select,false,10);
        }
        if (global.p1skill_c = tech_testoverdrive)
        {
            global.p1skill_c = tech_testcounter;
            d = audio_play_sound_on(emit,f_select,false,10);
        }
    }
    
    if (keyboard_check_pressed(global.p1_move_down))
    or (gamepad_button_check_pressed(0,global.p1p_move_down))
    {
        if (global.p1skill_c = tech_testtrap)
        {
            exit;
        }
        if (global.p1skill_c = tech_testreflect)
        {
            exit;
        }
        if (global.p1skill_c = tech_testteleport)
        {
            exit;
        }
        if (global.p1skill_c = tech_testrevector)
        {
            exit;
        }
        if (global.p1skill_c = tech_testgrapple)
        {
            global.p1skill_c = tech_testduplicate;
            d = audio_play_sound_on(emit,f_select,false,10);
        }
        if (global.p1skill_c = tech_testcounter)
        {
            global.p1skill_c = tech_testoverdrive;
            d = audio_play_sound_on(emit,f_select,false,10);
        }
        if (global.p1skill_c = tech_testpunch4)
        {
            global.p1skill_c = tech_testrevector;
            d = audio_play_sound_on(emit,f_select,false,10);
        }
        if (global.p1skill_c = tech_testpunch3)
        {
            global.p1skill_c = tech_testteleport;
            d = audio_play_sound_on(emit,f_select,false,10);
        }
        if (global.p1skill_c = tech_testpunch2)
        {
            global.p1skill_c = tech_testreflect;
            d = audio_play_sound_on(emit,f_select,false,10);
        }
        if (global.p1skill_c = tech_testpunch1)
        {
            global.p1skill_c = tech_testtrap;
            d = audio_play_sound_on(emit,f_select,false,10);
        }
        if (global.p1skill_c = tech_testlaser)
        {
            global.p1skill_c = tech_testpunch3;
            d = audio_play_sound_on(emit,f_select,false,10);
        }
        if (global.p1skill_c = tech_testblast2)
        {
            global.p1skill_c = tech_testpunch2;
            d = audio_play_sound_on(emit,f_select,false,10);
        }
        if (global.p1skill_c = tech_testblast)
        {
            global.p1skill_c = tech_testpunch1;
            d = audio_play_sound_on(emit,f_select,false,10);
        }
        if (global.p1skill_c = tech_testblast3)
        {
            global.p1skill_c = tech_testpunch4;
            d = audio_play_sound_on(emit,f_select,false,10);
        }
        if (global.p1skill_c = tech_testblast4)
        {
            global.p1skill_c = tech_testgrapple;
            d = audio_play_sound_on(emit,f_select,false,10);
        }
        if (global.p1skill_c = tech_testblast5)
        {
            global.p1skill_c = tech_testcounter;
            d = audio_play_sound_on(emit,f_select,false,10);
        }
    }
    
    if (keyboard_check_pressed(global.p1_tech_a))
    or (gamepad_button_check_pressed(0,global.p1p_tech_a))
    {
        if not (global.p1skill_c = global.p1skill_a)
        and not (global.p1skill_c = global.p1skill_b)
        {
            d = audio_play_sound_on(emit,f_confirm,false,10);
            mode = 'skillselectD';
        }
    }
}

/////////////////////////////////////////////

else if (mode = 'skillselectD')
{
    if (global.p1skill_d = 'none')
    {
        global.p1skill_d = global.p1skill_c;
    }
    
    if (global.p1skill_d = tech_testblast)
    {
    x = o_iconschot.x - 10
    y = o_iconschot.y + 30
    }
    if (global.p1skill_d = tech_testblast2)
    {
    x = o_iconrfire.x - 10
    y = o_iconrfire.y + 30
    }
    if (global.p1skill_d = tech_testlaser)
    {
    x = o_iconrlaser.x - 10
    y = o_iconrlaser.y + 30
    }
    if (global.p1skill_d = tech_testblast3)
    {
    x = o_iconsshot.x - 10
    y = o_iconsshot.y + 30
    }
    if (global.p1skill_d = tech_testblast4)
    {
    x = o_iconcblast.x - 10
    y = o_iconcblast.y + 30
    }
    if (global.p1skill_d = tech_testblast5)
    {
    x = o_iconcorb.x - 10
    y = o_iconcorb.y + 30
    }
    if (global.p1skill_d = tech_testpunch1)
    {
    x = o_iconphits.x - 10
    y = o_iconphits.y + 30
    }
    if (global.p1skill_d = tech_testpunch2)
    {
    x = o_iconrtaps.x - 10
    y = o_iconrtaps.y + 30
    }
    if (global.p1skill_d = tech_testpunch3)
    {
    x = o_iconrtackle.x - 10
    y = o_iconrtackle.y + 30
    }
    if (global.p1skill_d = tech_testpunch4)
    {
    x = o_iconwswing.x - 10
    y = o_iconwswing.y + 30
    }
    if (global.p1skill_d = tech_testgrapple)
    {
    x = o_icongrab.x - 10
    y = o_icongrab.y + 30
    }
    if (global.p1skill_d = tech_testcounter)
    {
    x = o_iconcounter.x - 10
    y = o_iconcounter.y + 30
    }
    if (global.p1skill_d = tech_testtrap)
    {
    x = o_iconshackles.x - 10
    y = o_iconshackles.y + 30
    }
    if (global.p1skill_d = tech_testreflect)
    {
    x = o_iconreflect.x - 10
    y = o_iconreflect.y + 30
    }
    if (global.p1skill_d = tech_testteleport)
    {
    x = o_iconteleport.x - 10
    y = o_iconteleport.y + 30
    }
    if (global.p1skill_d = tech_testrevector)
    {
    x = o_iconvector.x - 10
    y = o_iconvector.y + 30
    }
    if (global.p1skill_d = tech_testduplicate)
    {
    x = o_iconclone.x - 10
    y = o_iconclone.y + 30
    }
    if (global.p1skill_d = tech_testoverdrive)
    {
    x = o_icondrive.x - 10
    y = o_icondrive.y + 30
    }

    if (keyboard_check_pressed(global.p1_tech_b))
    or (gamepad_button_check_pressed(0,global.p1p_tech_b))
    {
        d = audio_play_sound_on(emit,f_select,false,10);
        global.p1skill_c = global.p1skill_d;
        global.p1skill_d = 'none'
        mode = 'skillselectC';
    }
    
    if (keyboard_check_pressed(global.p1_move_left))
    or (gamepad_button_check_pressed(0,global.p1p_move_left))
    {
        if (global.p1skill_d = tech_testblast)
        {
            exit;
        }
        if (global.p1skill_d = tech_testblast2)
        {
            global.p1skill_d = tech_testblast;
            d = audio_play_sound_on(emit,f_select,false,10);
        }
        if (global.p1skill_d = tech_testlaser)
        {
            global.p1skill_d = tech_testblast2;
            d = audio_play_sound_on(emit,f_select,false,10);
        }
        if (global.p1skill_d = tech_testblast3)
        {
            global.p1skill_d = tech_testlaser;
            d = audio_play_sound_on(emit,f_select,false,10);
        }
        if (global.p1skill_d = tech_testblast4)
        {
            global.p1skill_d = tech_testblast3;
            d = audio_play_sound_on(emit,f_select,false,10);
        }
        if (global.p1skill_d = tech_testblast5)
        {
            global.p1skill_d = tech_testblast4;
            d = audio_play_sound_on(emit,f_select,false,10);
        }
        if (global.p1skill_d = tech_testpunch1)
        {
            exit;
        }
        if (global.p1skill_d = tech_testpunch2)
        {
            global.p1skill_d = tech_testpunch1;
            d = audio_play_sound_on(emit,f_select,false,10);
        }
        if (global.p1skill_d = tech_testpunch3)
        {
            global.p1skill_d = tech_testpunch2;
            d = audio_play_sound_on(emit,f_select,false,10);
        }
        if (global.p1skill_d = tech_testpunch4)
        {
            global.p1skill_d = tech_testpunch3;
            d = audio_play_sound_on(emit,f_select,false,10);
        }
        if (global.p1skill_d = tech_testgrapple)
        {
            global.p1skill_d = tech_testpunch4;
            d = audio_play_sound_on(emit,f_select,false,10);
        }
        if (global.p1skill_d = tech_testcounter)
        {
            global.p1skill_d = tech_testgrapple;
            d = audio_play_sound_on(emit,f_select,false,10);
        }
        if (global.p1skill_d = tech_testtrap)
        {
            exit;
        }
        if (global.p1skill_d = tech_testreflect)
        {
            global.p1skill_d = tech_testtrap;
            d = audio_play_sound_on(emit,f_select,false,10);
        }
        if (global.p1skill_d = tech_testteleport)
        {
            global.p1skill_d = tech_testreflect;
            d = audio_play_sound_on(emit,f_select,false,10);
        }
        if (global.p1skill_d = tech_testrevector)
        {
            global.p1skill_d = tech_testteleport;
            d = audio_play_sound_on(emit,f_select,false,10);
        }
        if (global.p1skill_d = tech_testduplicate)
        {
            global.p1skill_d = tech_testrevector;
            d = audio_play_sound_on(emit,f_select,false,10);
        }
        if (global.p1skill_d = tech_testoverdrive)
        {
            global.p1skill_d = tech_testduplicate;
            d = audio_play_sound_on(emit,f_select,false,10);
        }
    }
    
    if (keyboard_check_pressed(global.p1_move_right))
    or (gamepad_button_check_pressed(0,global.p1p_move_right))
    {
        if (global.p1skill_d = tech_testcounter)
        {
            exit;
        }
        if (global.p1skill_d = tech_testgrapple)
        {
            global.p1skill_d = tech_testcounter;
            d = audio_play_sound_on(emit,f_select,false,10);
        }
        if (global.p1skill_d = tech_testpunch4)
        {
            global.p1skill_d = tech_testgrapple;
            d = audio_play_sound_on(emit,f_select,false,10);
        }
        if (global.p1skill_d = tech_testpunch3)
        {
            global.p1skill_d = tech_testpunch4;
            d = audio_play_sound_on(emit,f_select,false,10);
        }
        if (global.p1skill_d = tech_testpunch2)
        {
            global.p1skill_d = tech_testpunch3;
            d = audio_play_sound_on(emit,f_select,false,10);
        }
        if (global.p1skill_d = tech_testpunch1)
        {
            global.p1skill_d = tech_testpunch2;
            d = audio_play_sound_on(emit,f_select,false,10);
        }
        if (global.p1skill_d = tech_testblast5)
        {
            exit;
        }
        if (global.p1skill_d = tech_testblast4)
        {
            global.p1skill_d = tech_testblast5;
            d = audio_play_sound_on(emit,f_select,false,10);
        }
        if (global.p1skill_d = tech_testblast3)
        {
            global.p1skill_d = tech_testblast4;
            d = audio_play_sound_on(emit,f_select,false,10);
        }
        if (global.p1skill_d = tech_testlaser)
        {
            global.p1skill_d = tech_testblast3;
            d = audio_play_sound_on(emit,f_select,false,10);
        }
        if (global.p1skill_d = tech_testblast2)
        {
            global.p1skill_d = tech_testlaser;
            d = audio_play_sound_on(emit,f_select,false,10);
        }
        if (global.p1skill_d = tech_testblast)
        {
            global.p1skill_d = tech_testblast2;
            d = audio_play_sound_on(emit,f_select,false,10);
        }
        if (global.p1skill_d = tech_testoverdrive)
        {
            exit;
        }
        if (global.p1skill_d = tech_testduplicate)
        {
            global.p1skill_d = tech_testoverdrive;
            d = audio_play_sound_on(emit,f_select,false,10);
        }
        if (global.p1skill_d = tech_testrevector)
        {
            global.p1skill_d = tech_testduplicate;
            d = audio_play_sound_on(emit,f_select,false,10);
        }
        if (global.p1skill_d = tech_testteleport)
        {
            global.p1skill_d = tech_testrevector;
            d = audio_play_sound_on(emit,f_select,false,10);
        }
        if (global.p1skill_d = tech_testreflect)
        {
            global.p1skill_d = tech_testteleport;
            d = audio_play_sound_on(emit,f_select,false,10);
        }
        if (global.p1skill_d = tech_testtrap)
        {
            global.p1skill_d = tech_testreflect;
            d = audio_play_sound_on(emit,f_select,false,10);
        }
    }
    
    if (keyboard_check_pressed(global.p1_move_up))
    or (gamepad_button_check_pressed(0,global.p1p_move_up))
    {
        if (global.p1skill_d = tech_testblast)
        {
            exit;
        }
        if (global.p1skill_d = tech_testblast2)
        {
            exit;
        }
        if (global.p1skill_d = tech_testlaser)
        {
            exit;
        }
        if (global.p1skill_d = tech_testblast3)
        {
            exit;
        }
        if (global.p1skill_d = tech_testblast4)
        {
            exit;
        }
        if (global.p1skill_d = tech_testblast5)
        {
            exit;
        }
        if (global.p1skill_d = tech_testpunch1)
        {
            global.p1skill_d = tech_testblast;
            d = audio_play_sound_on(emit,f_select,false,10);
        }
        if (global.p1skill_d = tech_testpunch2)
        {
            global.p1skill_d = tech_testblast2;
            d = audio_play_sound_on(emit,f_select,false,10);
        }
        if (global.p1skill_d = tech_testpunch3)
        {
            global.p1skill_d = tech_testlaser;
            d = audio_play_sound_on(emit,f_select,false,10);
        }
        if (global.p1skill_d = tech_testpunch4)
        {
            global.p1skill_d = tech_testblast3;
            d = audio_play_sound_on(emit,f_select,false,10);
        }
        if (global.p1skill_d = tech_testgrapple)
        {
            global.p1skill_d = tech_testblast4;
            d = audio_play_sound_on(emit,f_select,false,10);
        }
        if (global.p1skill_d = tech_testcounter)
        {
            global.p1skill_d = tech_testblast5;
            d = audio_play_sound_on(emit,f_select,false,10);
        }
        if (global.p1skill_d = tech_testtrap)
        {
            global.p1skill_d = tech_testpunch1;
            d = audio_play_sound_on(emit,f_select,false,10);
        }
        if (global.p1skill_d = tech_testreflect)
        {
            global.p1skill_d = tech_testpunch2;
            d = audio_play_sound_on(emit,f_select,false,10);
        }
        if (global.p1skill_d = tech_testteleport)
        {
            global.p1skill_d = tech_testpunch3;
            d = audio_play_sound_on(emit,f_select,false,10);
        }
        if (global.p1skill_d = tech_testrevector)
        {
            global.p1skill_d = tech_testpunch4;
            d = audio_play_sound_on(emit,f_select,false,10);
        }
        if (global.p1skill_d = tech_testduplicate)
        {
            global.p1skill_d = tech_testgrapple;
            d = audio_play_sound_on(emit,f_select,false,10);
        }
        if (global.p1skill_d = tech_testoverdrive)
        {
            global.p1skill_d = tech_testcounter;
            d = audio_play_sound_on(emit,f_select,false,10);
        }
    }
    
    if (keyboard_check_pressed(global.p1_move_down))
    or (gamepad_button_check_pressed(0,global.p1p_move_down))
    {
        if (global.p1skill_d = tech_testtrap)
        {
            exit;
        }
        if (global.p1skill_d = tech_testreflect)
        {
            exit;
        }
        if (global.p1skill_d = tech_testteleport)
        {
            exit;
        }
        if (global.p1skill_d = tech_testrevector)
        {
            exit;
        }
        if (global.p1skill_d = tech_testgrapple)
        {
            global.p1skill_d = tech_testduplicate;
            d = audio_play_sound_on(emit,f_select,false,10);
        }
        if (global.p1skill_d = tech_testcounter)
        {
            global.p1skill_d = tech_testoverdrive;
            d = audio_play_sound_on(emit,f_select,false,10);
        }
        if (global.p1skill_d = tech_testpunch4)
        {
            global.p1skill_d = tech_testrevector;
            d = audio_play_sound_on(emit,f_select,false,10);
        }
        if (global.p1skill_d = tech_testpunch3)
        {
            global.p1skill_d = tech_testteleport;
            d = audio_play_sound_on(emit,f_select,false,10);
        }
        if (global.p1skill_d = tech_testpunch2)
        {
            global.p1skill_d = tech_testreflect;
            d = audio_play_sound_on(emit,f_select,false,10);
        }
        if (global.p1skill_d = tech_testpunch1)
        {
            global.p1skill_d = tech_testtrap;
            d = audio_play_sound_on(emit,f_select,false,10);
        }
        if (global.p1skill_d = tech_testlaser)
        {
            global.p1skill_d = tech_testpunch3;
            d = audio_play_sound_on(emit,f_select,false,10);
        }
        if (global.p1skill_d = tech_testblast2)
        {
            global.p1skill_d = tech_testpunch2;
            d = audio_play_sound_on(emit,f_select,false,10);
        }
        if (global.p1skill_d = tech_testblast)
        {
            global.p1skill_d = tech_testpunch1;
            d = audio_play_sound_on(emit,f_select,false,10);
        }
        if (global.p1skill_d = tech_testblast3)
        {
            global.p1skill_d = tech_testpunch4;
            d = audio_play_sound_on(emit,f_select,false,10);
        }
        if (global.p1skill_d = tech_testblast4)
        {
            global.p1skill_d = tech_testgrapple;
            d = audio_play_sound_on(emit,f_select,false,10);
        }
        if (global.p1skill_d = tech_testblast5)
        {
            global.p1skill_d = tech_testcounter;
            d = audio_play_sound_on(emit,f_select,false,10);
        }
    }
    
    if (keyboard_check_pressed(global.p1_tech_a))
    or (gamepad_button_check_pressed(0,global.p1p_tech_a))
    {
        if not (global.p1skill_d = global.p1skill_a)
        and not (global.p1skill_d = global.p1skill_b)
        and not (global.p1skill_d = global.p1skill_c)
        {
            d = audio_play_sound_on(emit,f_confirm,false,10);
            mode = 'skillselectE';
        }
    }
}

/////////////////////////////////////////////

else if (mode = 'skillselectE')
{
    if (global.p1skill_e = 'none')
    {
        global.p1skill_e = global.p1skill_d;
    }
    
    if (global.p1skill_e = tech_testblast)
    {
    x = o_iconschot.x - 10
    y = o_iconschot.y + 30
    }
    if (global.p1skill_e = tech_testblast2)
    {
    x = o_iconrfire.x - 10
    y = o_iconrfire.y + 30
    }
    if (global.p1skill_e = tech_testlaser)
    {
    x = o_iconrlaser.x - 10
    y = o_iconrlaser.y + 30
    }
    if (global.p1skill_e = tech_testblast3)
    {
    x = o_iconsshot.x - 10
    y = o_iconsshot.y + 30
    }
    if (global.p1skill_e = tech_testblast4)
    {
    x = o_iconcblast.x - 10
    y = o_iconcblast.y + 30
    }
    if (global.p1skill_e = tech_testblast5)
    {
    x = o_iconcorb.x - 10
    y = o_iconcorb.y + 30
    }
    if (global.p1skill_e = tech_testpunch1)
    {
    x = o_iconphits.x - 10
    y = o_iconphits.y + 30
    }
    if (global.p1skill_e = tech_testpunch2)
    {
    x = o_iconrtaps.x - 10
    y = o_iconrtaps.y + 30
    }
    if (global.p1skill_e = tech_testpunch3)
    {
    x = o_iconrtackle.x - 10
    y = o_iconrtackle.y + 30
    }
    if (global.p1skill_e = tech_testpunch4)
    {
    x = o_iconwswing.x - 10
    y = o_iconwswing.y + 30
    }
    if (global.p1skill_e = tech_testgrapple)
    {
    x = o_icongrab.x - 10
    y = o_icongrab.y + 30
    }
    if (global.p1skill_e = tech_testcounter)
    {
    x = o_iconcounter.x - 10
    y = o_iconcounter.y + 30
    }
    if (global.p1skill_e = tech_testtrap)
    {
    x = o_iconshackles.x - 10
    y = o_iconshackles.y + 30
    }
    if (global.p1skill_e = tech_testreflect)
    {
    x = o_iconreflect.x - 10
    y = o_iconreflect.y + 30
    }
    if (global.p1skill_e = tech_testteleport)
    {
    x = o_iconteleport.x - 10
    y = o_iconteleport.y + 30
    }
    if (global.p1skill_e = tech_testrevector)
    {
    x = o_iconvector.x - 10
    y = o_iconvector.y + 30
    }
    if (global.p1skill_e = tech_testduplicate)
    {
    x = o_iconclone.x - 10
    y = o_iconclone.y + 30
    }
    if (global.p1skill_e = tech_testoverdrive)
    {
    x = o_icondrive.x - 10
    y = o_icondrive.y + 30
    }

    if (keyboard_check_pressed(global.p1_tech_b))
    or (gamepad_button_check_pressed(0,global.p1p_tech_b))
    {
        d = audio_play_sound_on(emit,f_select,false,10);
        global.p1skill_d = global.p1skill_e;
        global.p1skill_e = 'none'
        mode = 'skillselectD';
    }
    
    if (keyboard_check_pressed(global.p1_move_left))
    or (gamepad_button_check_pressed(0,global.p1p_move_left))
    {
        if (global.p1skill_e = tech_testblast)
        {
            exit;
        }
        if (global.p1skill_e = tech_testblast2)
        {
            global.p1skill_e = tech_testblast;
            d = audio_play_sound_on(emit,f_select,false,10);
        }
        if (global.p1skill_e = tech_testlaser)
        {
            global.p1skill_e = tech_testblast2;
            d = audio_play_sound_on(emit,f_select,false,10);
        }
        if (global.p1skill_e = tech_testblast3)
        {
            global.p1skill_e = tech_testlaser;
            d = audio_play_sound_on(emit,f_select,false,10);
        }
        if (global.p1skill_e = tech_testblast4)
        {
            global.p1skill_e = tech_testblast3;
            d = audio_play_sound_on(emit,f_select,false,10);
        }
        if (global.p1skill_e = tech_testblast5)
        {
            global.p1skill_e = tech_testblast4;
            d = audio_play_sound_on(emit,f_select,false,10);
        }
        if (global.p1skill_e = tech_testpunch1)
        {
            exit;
        }
        if (global.p1skill_e = tech_testpunch2)
        {
            global.p1skill_e = tech_testpunch1;
            d = audio_play_sound_on(emit,f_select,false,10);
        }
        if (global.p1skill_e = tech_testpunch3)
        {
            global.p1skill_e = tech_testpunch2;
            d = audio_play_sound_on(emit,f_select,false,10);
        }
        if (global.p1skill_e = tech_testpunch4)
        {
            global.p1skill_e = tech_testpunch3;
            d = audio_play_sound_on(emit,f_select,false,10);
        }
        if (global.p1skill_e = tech_testgrapple)
        {
            global.p1skill_e = tech_testpunch4;
            d = audio_play_sound_on(emit,f_select,false,10);
        }
        if (global.p1skill_e = tech_testcounter)
        {
            global.p1skill_e = tech_testgrapple;
            d = audio_play_sound_on(emit,f_select,false,10);
        }
        if (global.p1skill_e = tech_testtrap)
        {
            exit;
        }
        if (global.p1skill_e = tech_testreflect)
        {
            global.p1skill_e = tech_testtrap;
            d = audio_play_sound_on(emit,f_select,false,10);
        }
        if (global.p1skill_e = tech_testteleport)
        {
            global.p1skill_e = tech_testreflect;
            d = audio_play_sound_on(emit,f_select,false,10);
        }
        if (global.p1skill_e = tech_testrevector)
        {
            global.p1skill_e = tech_testteleport;
            d = audio_play_sound_on(emit,f_select,false,10);
        }
        if (global.p1skill_e = tech_testduplicate)
        {
            global.p1skill_e = tech_testrevector;
            d = audio_play_sound_on(emit,f_select,false,10);
        }
        if (global.p1skill_e = tech_testoverdrive)
        {
            global.p1skill_e = tech_testduplicate;
            d = audio_play_sound_on(emit,f_select,false,10);
        }
    }
    
    if (keyboard_check_pressed(global.p1_move_right))
    or (gamepad_button_check_pressed(0,global.p1p_move_right))
    {
        if (global.p1skill_e = tech_testcounter)
        {
            exit;
        }
        if (global.p1skill_e = tech_testgrapple)
        {
            global.p1skill_e = tech_testcounter;
            d = audio_play_sound_on(emit,f_select,false,10);
        }
        if (global.p1skill_e = tech_testpunch4)
        {
            global.p1skill_e = tech_testgrapple;
            d = audio_play_sound_on(emit,f_select,false,10);
        }
        if (global.p1skill_e = tech_testpunch3)
        {
            global.p1skill_e = tech_testpunch4;
            d = audio_play_sound_on(emit,f_select,false,10);
        }
        if (global.p1skill_e = tech_testpunch2)
        {
            global.p1skill_e = tech_testpunch3;
            d = audio_play_sound_on(emit,f_select,false,10);
        }
        if (global.p1skill_e = tech_testpunch1)
        {
            global.p1skill_e = tech_testpunch2;
            d = audio_play_sound_on(emit,f_select,false,10);
        }
        if (global.p1skill_e = tech_testblast5)
        {
            exit;
        }
        if (global.p1skill_e = tech_testblast4)
        {
            global.p1skill_e = tech_testblast5;
            d = audio_play_sound_on(emit,f_select,false,10);
        }
        if (global.p1skill_e = tech_testblast3)
        {
            global.p1skill_e = tech_testblast4;
            d = audio_play_sound_on(emit,f_select,false,10);
        }
        if (global.p1skill_e = tech_testlaser)
        {
            global.p1skill_e = tech_testblast3;
            d = audio_play_sound_on(emit,f_select,false,10);
        }
        if (global.p1skill_e = tech_testblast2)
        {
            global.p1skill_e = tech_testlaser;
            d = audio_play_sound_on(emit,f_select,false,10);
        }
        if (global.p1skill_e = tech_testblast)
        {
            global.p1skill_e = tech_testblast2;
            d = audio_play_sound_on(emit,f_select,false,10);
        }
        if (global.p1skill_e = tech_testoverdrive)
        {
            exit;
        }
        if (global.p1skill_e = tech_testduplicate)
        {
            global.p1skill_e = tech_testoverdrive;
            d = audio_play_sound_on(emit,f_select,false,10);
        }
        if (global.p1skill_e = tech_testrevector)
        {
            global.p1skill_e = tech_testduplicate;
            d = audio_play_sound_on(emit,f_select,false,10);
        }
        if (global.p1skill_e = tech_testteleport)
        {
            global.p1skill_e = tech_testrevector;
            d = audio_play_sound_on(emit,f_select,false,10);
        }
        if (global.p1skill_e = tech_testreflect)
        {
            global.p1skill_e = tech_testteleport;
            d = audio_play_sound_on(emit,f_select,false,10);
        }
        if (global.p1skill_e = tech_testtrap)
        {
            global.p1skill_e = tech_testreflect;
            d = audio_play_sound_on(emit,f_select,false,10);
        }
    }
    
    if (keyboard_check_pressed(global.p1_move_up))
    or (gamepad_button_check_pressed(0,global.p1p_move_up))
    {
        if (global.p1skill_e = tech_testblast)
        {
            exit;
        }
        if (global.p1skill_e = tech_testblast2)
        {
            exit;
        }
        if (global.p1skill_e = tech_testlaser)
        {
            exit;
        }
        if (global.p1skill_e = tech_testblast3)
        {
            exit;
        }
        if (global.p1skill_e = tech_testblast4)
        {
            exit;
        }
        if (global.p1skill_e = tech_testblast5)
        {
            exit;
        }
        if (global.p1skill_e = tech_testpunch1)
        {
            global.p1skill_e = tech_testblast;
            d = audio_play_sound_on(emit,f_select,false,10);
        }
        if (global.p1skill_e = tech_testpunch2)
        {
            global.p1skill_e = tech_testblast2;
            d = audio_play_sound_on(emit,f_select,false,10);
        }
        if (global.p1skill_e = tech_testpunch3)
        {
            global.p1skill_e = tech_testlaser;
            d = audio_play_sound_on(emit,f_select,false,10);
        }
        if (global.p1skill_e = tech_testpunch4)
        {
            global.p1skill_e = tech_testblast3;
            d = audio_play_sound_on(emit,f_select,false,10);
        }
        if (global.p1skill_e = tech_testgrapple)
        {
            global.p1skill_e = tech_testblast4;
            d = audio_play_sound_on(emit,f_select,false,10);
        }
        if (global.p1skill_e = tech_testcounter)
        {
            global.p1skill_e = tech_testblast5;
            d = audio_play_sound_on(emit,f_select,false,10);
        }
        if (global.p1skill_e = tech_testtrap)
        {
            global.p1skill_e = tech_testpunch1;
            d = audio_play_sound_on(emit,f_select,false,10);
        }
        if (global.p1skill_e = tech_testreflect)
        {
            global.p1skill_e = tech_testpunch2;
            d = audio_play_sound_on(emit,f_select,false,10);
        }
        if (global.p1skill_e = tech_testteleport)
        {
            global.p1skill_e = tech_testpunch3;
            d = audio_play_sound_on(emit,f_select,false,10);
        }
        if (global.p1skill_e = tech_testrevector)
        {
            global.p1skill_e = tech_testpunch4;
            d = audio_play_sound_on(emit,f_select,false,10);
        }
        if (global.p1skill_e = tech_testduplicate)
        {
            global.p1skill_e = tech_testgrapple;
            d = audio_play_sound_on(emit,f_select,false,10);
        }
        if (global.p1skill_e = tech_testoverdrive)
        {
            global.p1skill_e = tech_testcounter;
            d = audio_play_sound_on(emit,f_select,false,10);
        }
    }
    
    if (keyboard_check_pressed(global.p1_move_down))
    or (gamepad_button_check_pressed(0,global.p1p_move_down))
    {
        if (global.p1skill_e = tech_testtrap)
        {
            exit;
        }
        if (global.p1skill_e = tech_testreflect)
        {
            exit;
        }
        if (global.p1skill_e = tech_testteleport)
        {
            exit;
        }
        if (global.p1skill_e = tech_testrevector)
        {
            exit;
        }
        if (global.p1skill_e = tech_testgrapple)
        {
            global.p1skill_e = tech_testduplicate;
            d = audio_play_sound_on(emit,f_select,false,10);
        }
        
        if (global.p1skill_e = tech_testcounter)
        {
            global.p1skill_e = tech_testoverdrive;
            d = audio_play_sound_on(emit,f_select,false,10);
        }
        if (global.p1skill_e = tech_testpunch4)
        {
            global.p1skill_e = tech_testrevector;
            d = audio_play_sound_on(emit,f_select,false,10);
        }
        if (global.p1skill_e = tech_testpunch3)
        {
            global.p1skill_e = tech_testteleport;
            d = audio_play_sound_on(emit,f_select,false,10);
        }
        if (global.p1skill_e = tech_testpunch2)
        {
            global.p1skill_e = tech_testreflect;
            d = audio_play_sound_on(emit,f_select,false,10);
        }
        if (global.p1skill_e = tech_testpunch1)
        {
            global.p1skill_e = tech_testtrap;
            d = audio_play_sound_on(emit,f_select,false,10);
        }
        if (global.p1skill_e = tech_testlaser)
        {
            global.p1skill_e = tech_testpunch3;
            d = audio_play_sound_on(emit,f_select,false,10);
        }
        if (global.p1skill_e = tech_testblast2)
        {
            global.p1skill_e = tech_testpunch2;
            d = audio_play_sound_on(emit,f_select,false,10);
        }
        if (global.p1skill_e = tech_testblast)
        {
            global.p1skill_e = tech_testpunch1;
            d = audio_play_sound_on(emit,f_select,false,10);
        }
        if (global.p1skill_e = tech_testblast3)
        {
            global.p1skill_e = tech_testpunch4;
            d = audio_play_sound_on(emit,f_select,false,10);
        }
        if (global.p1skill_e = tech_testblast4)
        {
            global.p1skill_e = tech_testgrapple;
            d = audio_play_sound_on(emit,f_select,false,10);
        }
        if (global.p1skill_e = tech_testblast5)
        {
            global.p1skill_e = tech_testcounter;
            d = audio_play_sound_on(emit,f_select,false,10);
        }
    }
    
    if (keyboard_check_pressed(global.p1_tech_a))
    or (gamepad_button_check_pressed(0,global.p1p_tech_a))
    {
        if not (global.p1skill_e = global.p1skill_a)
        and not (global.p1skill_e = global.p1skill_b)
        and not (global.p1skill_e = global.p1skill_c)
        and not (global.p1skill_e = global.p1skill_d)
        {
            d = audio_play_sound_on(emit,f_confirm,false,10);
            mode = 'skillselectF';
        }
    }
}

/////////////////////////////////////////////

else if (mode = 'skillselectF')
{
    if (global.p1skill_f = 'none')
    {
        global.p1skill_f = global.p1skill_e;
    }
    
    if (global.p1skill_f = tech_testblast)
    {
    x = o_iconschot.x - 10
    y = o_iconschot.y + 30
    }
    if (global.p1skill_f = tech_testblast2)
    {
    x = o_iconrfire.x - 10
    y = o_iconrfire.y + 30
    }
    if (global.p1skill_f = tech_testlaser)
    {
    x = o_iconrlaser.x - 10
    y = o_iconrlaser.y + 30
    }
    if (global.p1skill_f = tech_testblast3)
    {
    x = o_iconsshot.x - 10
    y = o_iconsshot.y + 30
    }
    if (global.p1skill_f = tech_testblast4)
    {
    x = o_iconcblast.x - 10
    y = o_iconcblast.y + 30
    }
    if (global.p1skill_f = tech_testblast5)
    {
    x = o_iconcorb.x - 10
    y = o_iconcorb.y + 30
    }
    if (global.p1skill_f = tech_testpunch1)
    {
    x = o_iconphits.x - 10
    y = o_iconphits.y + 30
    }
    if (global.p1skill_f = tech_testpunch2)
    {
    x = o_iconrtaps.x - 10
    y = o_iconrtaps.y + 30
    }
    if (global.p1skill_f = tech_testpunch3)
    {
    x = o_iconrtackle.x - 10
    y = o_iconrtackle.y + 30
    }
    if (global.p1skill_f = tech_testpunch4)
    {
    x = o_iconwswing.x - 10
    y = o_iconwswing.y + 30
    }
    if (global.p1skill_f = tech_testgrapple)
    {
    x = o_icongrab.x - 10
    y = o_icongrab.y + 30
    }
    if (global.p1skill_f = tech_testcounter)
    {
    x = o_iconcounter.x - 10
    y = o_iconcounter.y + 30
    }
    if (global.p1skill_f = tech_testtrap)
    {
    x = o_iconshackles.x - 10
    y = o_iconshackles.y + 30
    }
    if (global.p1skill_f = tech_testreflect)
    {
    x = o_iconreflect.x - 10
    y = o_iconreflect.y + 30
    }
    if (global.p1skill_f = tech_testteleport)
    {
    x = o_iconteleport.x - 10
    y = o_iconteleport.y + 30
    }
    if (global.p1skill_f = tech_testrevector)
    {
    x = o_iconvector.x - 10
    y = o_iconvector.y + 30
    }
    if (global.p1skill_f = tech_testduplicate)
    {
    x = o_iconclone.x - 10
    y = o_iconclone.y + 30
    }
    if (global.p1skill_f = tech_testoverdrive)
    {
    x = o_icondrive.x - 10
    y = o_icondrive.y + 30
    }

    if (keyboard_check_pressed(global.p1_tech_b))
    or (gamepad_button_check_pressed(0,global.p1p_tech_b))
    {
        d = audio_play_sound_on(emit,f_select,false,10);
        global.p1skill_e = global.p1skill_f;
        global.p1skill_f = 'none'
        mode = 'skillselectE';
    }
    
    if (keyboard_check_pressed(global.p1_move_left))
    or (gamepad_button_check_pressed(0,global.p1p_move_left))
    {
        if (global.p1skill_f = tech_testblast)
        {
            exit;
        }
        if (global.p1skill_f = tech_testblast2)
        {
            global.p1skill_f = tech_testblast;
            d = audio_play_sound_on(emit,f_select,false,10);
        }
        if (global.p1skill_f = tech_testlaser)
        {
            global.p1skill_f = tech_testblast2;
            d = audio_play_sound_on(emit,f_select,false,10);
        }
        if (global.p1skill_f = tech_testblast3)
        {
            global.p1skill_f = tech_testlaser;
            d = audio_play_sound_on(emit,f_select,false,10);
        }
        if (global.p1skill_f = tech_testblast4)
        {
            global.p1skill_f = tech_testblast3;
            d = audio_play_sound_on(emit,f_select,false,10);
        }
        if (global.p1skill_f = tech_testblast5)
        {
            global.p1skill_f = tech_testblast4;
            d = audio_play_sound_on(emit,f_select,false,10);
        }
        if (global.p1skill_f = tech_testpunch1)
        {
            exit;
        }
        if (global.p1skill_f = tech_testpunch2)
        {
            global.p1skill_f = tech_testpunch1;
            d = audio_play_sound_on(emit,f_select,false,10);
        }
        if (global.p1skill_f = tech_testpunch3)
        {
            global.p1skill_f = tech_testpunch2;
            d = audio_play_sound_on(emit,f_select,false,10);
        }
        if (global.p1skill_f = tech_testpunch4)
        {
            global.p1skill_f = tech_testpunch3;
            d = audio_play_sound_on(emit,f_select,false,10);
        }
        if (global.p1skill_f = tech_testgrapple)
        {
            global.p1skill_f = tech_testpunch4;
            d = audio_play_sound_on(emit,f_select,false,10);
        }
        if (global.p1skill_f = tech_testcounter)
        {
            global.p1skill_f = tech_testgrapple;
            d = audio_play_sound_on(emit,f_select,false,10);
        }
        if (global.p1skill_f = tech_testtrap)
        {
            exit;
        }
        if (global.p1skill_f = tech_testreflect)
        {
            global.p1skill_f = tech_testtrap;
            d = audio_play_sound_on(emit,f_select,false,10);
        }
        if (global.p1skill_f = tech_testteleport)
        {
            global.p1skill_f = tech_testreflect;
            d = audio_play_sound_on(emit,f_select,false,10);
        }
        if (global.p1skill_f = tech_testrevector)
        {
            global.p1skill_f = tech_testteleport;
            d = audio_play_sound_on(emit,f_select,false,10);
        }
        if (global.p1skill_f = tech_testduplicate)
        {
            global.p1skill_f = tech_testrevector;
            d = audio_play_sound_on(emit,f_select,false,10);
        }
        if (global.p1skill_f = tech_testoverdrive)
        {
            global.p1skill_f = tech_testduplicate;
            d = audio_play_sound_on(emit,f_select,false,10);
        }
    }
    
    if (keyboard_check_pressed(global.p1_move_right))
    or (gamepad_button_check_pressed(0,global.p1p_move_right))
    {
        if (global.p1skill_f = tech_testcounter)
        {
            exit;
        }
        if (global.p1skill_f = tech_testgrapple)
        {
            global.p1skill_f = tech_testcounter;
            d = audio_play_sound_on(emit,f_select,false,10);
        }
        if (global.p1skill_f = tech_testpunch4)
        {
            global.p1skill_f = tech_testgrapple;
            d = audio_play_sound_on(emit,f_select,false,10);
        }
        if (global.p1skill_f = tech_testpunch3)
        {
            global.p1skill_f = tech_testpunch4;
            d = audio_play_sound_on(emit,f_select,false,10);
        }
        if (global.p1skill_f = tech_testpunch2)
        {
            global.p1skill_f = tech_testpunch3;
            d = audio_play_sound_on(emit,f_select,false,10);
        }
        if (global.p1skill_f = tech_testpunch1)
        {
            global.p1skill_f = tech_testpunch2;
            d = audio_play_sound_on(emit,f_select,false,10);
        }
        if (global.p1skill_f = tech_testblast5)
        {
            exit;
        }
        if (global.p1skill_f = tech_testblast4)
        {
            global.p1skill_f = tech_testblast5;
            d = audio_play_sound_on(emit,f_select,false,10);
        }
        if (global.p1skill_f = tech_testblast3)
        {
            global.p1skill_f = tech_testblast4;
            d = audio_play_sound_on(emit,f_select,false,10);
        }
        if (global.p1skill_f = tech_testlaser)
        {
            global.p1skill_f = tech_testblast3;
            d = audio_play_sound_on(emit,f_select,false,10);
        }
        if (global.p1skill_f = tech_testblast2)
        {
            global.p1skill_f = tech_testlaser;
            d = audio_play_sound_on(emit,f_select,false,10);
        }
        if (global.p1skill_f = tech_testblast)
        {
            global.p1skill_f = tech_testblast2;
            d = audio_play_sound_on(emit,f_select,false,10);
        }
        if (global.p1skill_f = tech_testoverdrive)
        {
            exit;
        }
        if (global.p1skill_f = tech_testduplicate)
        {
            global.p1skill_f = tech_testoverdrive;
            d = audio_play_sound_on(emit,f_select,false,10);
        }
        if (global.p1skill_f = tech_testrevector)
        {
            global.p1skill_f = tech_testduplicate;
            d = audio_play_sound_on(emit,f_select,false,10);
        }
        if (global.p1skill_f = tech_testteleport)
        {
            global.p1skill_f = tech_testrevector;
            d = audio_play_sound_on(emit,f_select,false,10);
        }
        if (global.p1skill_f = tech_testreflect)
        {
            global.p1skill_f = tech_testteleport;
            d = audio_play_sound_on(emit,f_select,false,10);
        }
        if (global.p1skill_f = tech_testtrap)
        {
            global.p1skill_f = tech_testreflect;
            d = audio_play_sound_on(emit,f_select,false,10);
        }
    }
    
    if (keyboard_check_pressed(global.p1_move_up))
    or (gamepad_button_check_pressed(0,global.p1p_move_up))
    {
        if (global.p1skill_f = tech_testblast)
        {
            exit;
        }
        if (global.p1skill_f = tech_testblast2)
        {
            exit;
        }
        if (global.p1skill_f = tech_testlaser)
        {
            exit;
        }
        if (global.p1skill_f = tech_testblast3)
        {
            exit;
        }
        if (global.p1skill_f = tech_testblast4)
        {
            exit;
        }
        if (global.p1skill_f = tech_testblast5)
        {
            exit;
        }
        if (global.p1skill_f = tech_testpunch1)
        {
            global.p1skill_f = tech_testblast;
            d = audio_play_sound_on(emit,f_select,false,10);
        }
        if (global.p1skill_f = tech_testpunch2)
        {
            global.p1skill_f = tech_testblast2;
            d = audio_play_sound_on(emit,f_select,false,10);
        }
        if (global.p1skill_f = tech_testpunch3)
        {
            global.p1skill_f = tech_testlaser;
            d = audio_play_sound_on(emit,f_select,false,10);
        }
        if (global.p1skill_f = tech_testpunch4)
        {
            global.p1skill_f = tech_testblast3;
            d = audio_play_sound_on(emit,f_select,false,10);
        }
        if (global.p1skill_f = tech_testgrapple)
        {
            global.p1skill_f = tech_testblast4;
            d = audio_play_sound_on(emit,f_select,false,10);
        }
        if (global.p1skill_f = tech_testcounter)
        {
            global.p1skill_f = tech_testblast5;
            d = audio_play_sound_on(emit,f_select,false,10);
        }
        if (global.p1skill_f = tech_testtrap)
        {
            global.p1skill_f = tech_testpunch1;
            d = audio_play_sound_on(emit,f_select,false,10);
        }
        if (global.p1skill_f = tech_testreflect)
        {
            global.p1skill_f = tech_testpunch2;
            d = audio_play_sound_on(emit,f_select,false,10);
        }
        if (global.p1skill_f = tech_testteleport)
        {
            global.p1skill_f = tech_testpunch3;
            d = audio_play_sound_on(emit,f_select,false,10);
        }
        if (global.p1skill_f = tech_testrevector)
        {
            global.p1skill_f = tech_testpunch4;
            d = audio_play_sound_on(emit,f_select,false,10);
        }
        if (global.p1skill_f = tech_testduplicate)
        {
            global.p1skill_f = tech_testgrapple;
            d = audio_play_sound_on(emit,f_select,false,10);
        }
        if (global.p1skill_f = tech_testoverdrive)
        {
            global.p1skill_f = tech_testcounter;
            d = audio_play_sound_on(emit,f_select,false,10);
        }
    }
    
    if (keyboard_check_pressed(global.p1_move_down))
    or (gamepad_button_check_pressed(0,global.p1p_move_down))
    {
        if (global.p1skill_f = tech_testtrap)
        {
            exit;
        }
        if (global.p1skill_f = tech_testreflect)
        {
            exit;
        }
        if (global.p1skill_f = tech_testteleport)
        {
            exit;
        }
        if (global.p1skill_f = tech_testrevector)
        {
            exit;
        }
        if (global.p1skill_f = tech_testgrapple)
        {
            global.p1skill_f = tech_testduplicate;
            d = audio_play_sound_on(emit,f_select,false,10);
        }
        if (global.p1skill_f = tech_testcounter)
        {
            global.p1skill_f = tech_testoverdrive;
            d = audio_play_sound_on(emit,f_select,false,10);
        }
        if (global.p1skill_f = tech_testpunch4)
        {
            global.p1skill_f = tech_testrevector;
            d = audio_play_sound_on(emit,f_select,false,10);
        }
        if (global.p1skill_f = tech_testpunch3)
        {
            global.p1skill_f = tech_testteleport;
            d = audio_play_sound_on(emit,f_select,false,10);
        }
        if (global.p1skill_f = tech_testpunch2)
        {
            global.p1skill_f = tech_testreflect;
            d = audio_play_sound_on(emit,f_select,false,10);
        }
        if (global.p1skill_f = tech_testpunch1)
        {
            global.p1skill_f = tech_testtrap;
            d = audio_play_sound_on(emit,f_select,false,10);
        }
        if (global.p1skill_f = tech_testlaser)
        {
            global.p1skill_f = tech_testpunch3;
            d = audio_play_sound_on(emit,f_select,false,10);
        }
        if (global.p1skill_f = tech_testblast2)
        {
            global.p1skill_f = tech_testpunch2;
            d = audio_play_sound_on(emit,f_select,false,10);
        }
        if (global.p1skill_f = tech_testblast)
        {
            global.p1skill_f = tech_testpunch1;
            d = audio_play_sound_on(emit,f_select,false,10);
        }
        if (global.p1skill_f = tech_testblast3)
        {
            global.p1skill_f = tech_testpunch4;
            d = audio_play_sound_on(emit,f_select,false,10);
        }
        if (global.p1skill_f = tech_testblast4)
        {
            global.p1skill_f = tech_testgrapple;
            d = audio_play_sound_on(emit,f_select,false,10);
        }
        if (global.p1skill_f = tech_testblast5)
        {
            global.p1skill_f = tech_testcounter;
            d = audio_play_sound_on(emit,f_select,false,10);
        }
    }
    
    if (keyboard_check_pressed(global.p1_tech_a))
    or (gamepad_button_check_pressed(0,global.p1p_tech_a))
    {
        if not (global.p1skill_f = global.p1skill_a)
        and not (global.p1skill_f = global.p1skill_b)
        and not (global.p1skill_f = global.p1skill_c)
        and not (global.p1skill_f = global.p1skill_d)
        and not (global.p1skill_f = global.p1skill_e)
        {
            d = audio_play_sound_on(emit,f_confirm,false,10);
            mode = 'ready3';
        }
    }
}

/////////////////////////////////////////////

else if (mode = 'ready3')
or (mode = 'standby3')
{
    x = o_selectready.x - 10
    y = o_selectready.y + 20
    if (o_char2arrow.mode = 'ready3')
    {
        with (o_tabstages)
        {
            mode = "next";
            alarm[1] = 60;
        }
        mode = 'standby3';
        o_char2arrow.mode = 'standby3';
    }
    if (keyboard_check_pressed(global.p1_tech_b))
    or (gamepad_button_check_pressed(0,global.p1p_tech_b))
    {
        d = audio_play_sound_on(emit,f_select,false,10);
        mode = 'skillselectF';
        if not (o_char2arrow.mode = 'setselect')
        and not (o_char2arrow.mode = 'skillselectA')
        and not (o_char2arrow.mode = 'skillselectB')
        and not (o_char2arrow.mode = 'skillselectC')
        and not (o_char2arrow.mode = 'skillselectD')
        and not (o_char2arrow.mode = 'skillselectE')
        and not (o_char2arrow.mode = 'skillselectF')
        {
            o_char2arrow.mode = 'ready3';
        }
        o_tabstages.mode = "set";
    }
}
</string>
          </argument>
        </arguments>
      </action>
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>///stage select

if (mode = 'stageselect')
{
    if (keyboard_check_pressed(global.p1_tech_b))
    or (gamepad_button_check_pressed(0,global.p1p_tech_b))
    {
        d = audio_play_sound_on(emit,f_select,false,10);
        mode = 'skillselectF';
        o_char2arrow.mode = 'ready3';
        o_tabstages.mode = "set";
    }
}
if (mode = 'stageselect')
{
    if (global.arena = "Random")
    {
        x = o_stagerandom.x
        y = o_stagerandom.y + 40
    }
    if (global.arena = "Outer Space")
    {
        x = o_stagespace.x
        y = o_stagespace.y + 40
    }
    if (global.arena = "Big Sky")
    {
        x = o_stagesky.x
        y = o_stagesky.y + 40
    }
    
    if (keyboard_check_pressed(global.p1_move_left))
    or (gamepad_button_check_pressed(0,global.p1p_move_left))
    {
        if (global.arena = "Outer Space")
        {
            exit;
        }
        if (global.arena = "Random")
        {
            global.arena = "Outer Space";
            global.theme = f_excursion;
            d = audio_play_sound_on(emit,f_select,false,10);
        }
        if (global.arena = "Big Sky")
        {
            global.arena = "Random";
            global.theme = "shuffle";
            d = audio_play_sound_on(emit,f_select,false,10);
        }
    }
    if (keyboard_check_pressed(global.p1_move_right))
    or (gamepad_button_check_pressed(0,global.p1p_move_right))
    {
        if (global.arena = "Big Sky")
        {
            exit;
        }
        if (global.arena = "Random")
        {
            global.arena = "Big Sky";
            global.theme = f_automation;
            d = audio_play_sound_on(emit,f_select,false,10);
        }
        if (global.arena = "Outer Space")
        {
            global.arena = "Random";
            global.theme = "shuffle";
            d = audio_play_sound_on(emit,f_select,false,10);
        }
    }
    
    if (keyboard_check_pressed(vk_enter))
    or (gamepad_button_check_pressed(0,gp_start))
    {
        if (global.arena = "Random")
        {
            global.arena = choose("Big Sky","Outer Space");
            if (global.arena = "Outer Space")
            {
                global.theme = f_excursion;
            }
            if (global.arena = "Big Sky")
            {
                global.theme = f_automation;
            }
        }
        if (audio_is_playing(global.menumusic))
        {
            audio_stop_sound(global.menumusic);
        }
        room_goto(r_test);
    }
}
</string>
          </argument>
        </arguments>
      </action>
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>///background music
audio_listener_position(0,0,0);
audio_emitter_gain(global.s_music,(global.master/100)*(global.music/100));

pos = audio_sound_get_track_position(global.menumusic);
if (pos &gt;= 109.71)
{
    audio_sound_set_track_position(global.menumusic,54.85);
}

if (mode = 'pause')
{
    image_alpha = 0;
}
else 
{
    image_alpha = 1;
}
</string>
          </argument>
        </arguments>
      </action>
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>///input type check
if (keyboard_check(global.p1_move_up))
or (keyboard_check(global.p1_move_down))
or (keyboard_check(global.p1_move_left))
or (keyboard_check(global.p1_move_right))
or (keyboard_check(global.p1_tech_a))
or (keyboard_check(global.p1_tech_b))
or (keyboard_check(global.p1_tech_c))
or (keyboard_check(global.p1_dash))
or (keyboard_check(global.p1_guard))
or (keyboard_check(global.p1_shift))
{
    global.p1input = 'key';
}

if (gamepad_button_check(0,global.p1p_move_up))
or (gamepad_button_check(0,global.p1p_move_down))
or (gamepad_button_check(0,global.p1p_move_left))
or (gamepad_button_check(0,global.p1p_move_right))
or (gamepad_button_check(0,global.p1p_tech_a))
or (gamepad_button_check(0,global.p1p_tech_b))
or (gamepad_button_check(0,global.p1p_tech_c))
or (gamepad_button_check(0,global.p1p_dash))
or (gamepad_button_check(0,global.p1p_guard))
or (gamepad_button_check(0,global.p1p_shift))
{
    global.p1input = 'pad';
}
</string>
          </argument>
        </arguments>
      </action>
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>if (mode = 'pause')
{
    image_alpha = 0;
}
else 
{
    image_alpha = 1;
}
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="8" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>draw_self();
</string>
          </argument>
        </arguments>
      </action>
    </event>
  </events>
  <PhysicsObject>0</PhysicsObject>
  <PhysicsObjectSensor>0</PhysicsObjectSensor>
  <PhysicsObjectShape>0</PhysicsObjectShape>
  <PhysicsObjectDensity>0.5</PhysicsObjectDensity>
  <PhysicsObjectRestitution>0.100000001490116</PhysicsObjectRestitution>
  <PhysicsObjectGroup>0</PhysicsObjectGroup>
  <PhysicsObjectLinearDamping>0.100000001490116</PhysicsObjectLinearDamping>
  <PhysicsObjectAngularDamping>0.100000001490116</PhysicsObjectAngularDamping>
  <PhysicsObjectFriction>0.200000002980232</PhysicsObjectFriction>
  <PhysicsObjectAwake>-1</PhysicsObjectAwake>
  <PhysicsObjectKinematic>0</PhysicsObjectKinematic>
  <PhysicsShapePoints/>
</object>
